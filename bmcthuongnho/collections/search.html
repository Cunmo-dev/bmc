<!doctype html>
<html class="no-js" lang="vi">
<meta http-equiv="content-type" content="text/html;charset=utf-8" />

<head>
	<!-- Basic page needs ================================================== -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta property="og:locale" content="vi_VN">
	<link rel="alternate" hreflang="x-default" href="../index.html">
	<link rel="alternate" hreflang="vi" href="../index.html">
	<meta name="revisit" content="1 days">
	<meta name="robots" content="index,follow">
	<!-- Meta Pixel Code -->
	<script>
		!function (f, b, e, v, n, t, s) {
			if (f.fbq) return; n = f.fbq = function () {
				n.callMethod ?
					n.callMethod.apply(n, arguments) : n.queue.push(arguments)
			};
			if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
			n.queue = []; t = b.createElement(e); t.async = !0;
			t.src = v; s = b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t, s)
		}(window, document, 'script',
			'https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '1183122993099354');
		fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id=1183122993099354&ev=PageView&noscript=1" /></noscript>
	<!-- End Meta Pixel Code -->
	<link rel="shortcut icon" href="../../theme.hstatic.net/1000313040/1000406925/14/faviconee64.png"
		type="image/png" />

	<!-- Title and description ================================================== -->
	<title>
		Bánh Mì Chảo Thương Nhớ
	</title>
	<meta property="og:type" content="website">
	<meta property="og:title" content="Bánh Mì Chảo Thương Nhớ">
	<!-- Meta Pixel Code -->
	<script>
		!function (f, b, e, v, n, t, s) {
			if (f.fbq) return; n = f.fbq = function () {
				n.callMethod ?
					n.callMethod.apply(n, arguments) : n.queue.push(arguments)
			};
			if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
			n.queue = []; t = b.createElement(e); t.async = !0;
			t.src = v; s = b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t, s)
		}(window, document, 'script',
			'https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '694234706407697');
		fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id=694234706407697&ev=PageView&noscript=1" /></noscript>
	<!-- End Meta Pixel Code -->
	<meta property="og:url" content="https://banhmichaothuongnho.com">
	<meta property="og:site_name" content="Bánh Mì Chảo Thương Nhớ">

	<meta name="twitter:site" content="@https://">
	<meta name="twitter:card" content="summary">

	<link rel="canonical" href="../index.html">
	<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
	<meta name="theme-color" content="#3d1a1a">
	<!-- CSS ================================================== -->
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/timber.scssee64.css' rel='stylesheet' type='text/css'
		media='all' />
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/check_outee64.css' rel='stylesheet' type='text/css'
		media='all' />
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/style-cafesuplo.scssee64.css' rel='stylesheet'
		type='text/css' media='all' />
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/owl.carouselee64.css' rel='stylesheet' type='text/css'
		media='all' />
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/owl.themeee64.css' rel='stylesheet' type='text/css'
		media='all' />
	<link href='../../theme.hstatic.net/1000313040/1000406925/14/owl.transitionsee64.css' rel='stylesheet'
		type='text/css' media='all' />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
		integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

	<meta name="google-site-verification" content="1YCTpCogncSDl7UJaoD_Dgu3MOaGZ_p1SDwiMCKqT1Y" />

	<script src='../../ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js' type='text/javascript'></script>
	<script src='../../theme.hstatic.net/1000313040/1000406925/14/modernizr.minee64.js' type='text/javascript'></script>
	<script src='../../theme.hstatic.net/1000313040/1000406925/14/owl.carousel.minee64.js'
		type='text/javascript'></script>

</head>

<body id="banhmichao" class="template-collection">



	<div id="NavDrawer" class="drawer drawer--left">
		<div class="drawer__header">
			<div class="drawer__title h3"><img src="../../theme.hstatic.net/1000313040/1000406925/14/logoee64.png"
					alt="Bánh Mì Chảo Thương Nhớ" /></div>
			<div class="drawer__close js-drawer-close">
				<button type="button" class="icon-fallback-text">
					<span class="icon icon-x" aria-hidden="true"></span>
					<span class="fallback-text">Đóng</span>
				</button>
			</div>
		</div>
		<!-- begin mobile-nav -->
		<ul class="mobile-nav">
			<li class="mobile-nav__item mobile-nav__search">
				<form action="search.html" method="get" class="input-group search-bar home-search-bar" role="search">
					<input type="hidden" name="type" value="product">
					<input type="search" name="q" value="" placeholder="Tìm kiếm..." class="input-group-field"
						aria-label="Tìm kiếm...">
					<span class="input-group-btn">
						<button type="submit" class="btn icon-fallback-text">
							<span class="icon icon-search" aria-hidden="true"></span>
							<span class="fallback-text">Tìm kiếm</span>
						</button>
					</span>
				</form>

			</li>

		</ul>
		<!-- //mobile-nav -->
	</div>


	<div id="CartDrawer" class="drawer drawer--right">
		<div class="drawer__header">
			<div class="drawer__title h3">Giỏ hàng</div>
			<div class="drawer__close js-drawer-close">
				<button type="button" class="icon-fallback-text">
					<span class="icon icon-x" aria-hidden="true"></span>
					<span class="fallback-text">"Đóng"</span>
				</button>
			</div>
		</div>
		<div id="CartContainer"></div>
	</div>
	<div class="cart-overlay"></div>


	<header class="medium-down--hide">
		<div id="site-header" class="medium-down--hide ">
			<div class="wrapper">
				<div class="inner">
					<div class="grid mg-left-15">
						<div class="grid__item large--one-twelfth pd-left0">
							<div class="hd-logo">



								<a href="../index.html">
									<img class="avata"
										src="../../theme.hstatic.net/1000313040/1000406925/14/logoee64.png"
										alt="Bánh Mì Chảo Thương Nhớ" />
								</a>


							</div>
						</div>
						<div class="grid__item large--three-twelfths pd-left15 hd-searchbar">
							<form action="search.html" method="get" class="input-group search-bar home-search-bar"
								role="search">
								<input type="hidden" name="type" value="product">
								<input type="search" name="q" value="" placeholder="Tìm kiếm..."
									class="input-group-field" aria-label="Tìm kiếm...">
								<span class="input-group-btn">
									<button type="submit" class="btn icon-fallback-text">
										<span class="icon icon-search" aria-hidden="true"></span>
										<span class="fallback-text">Tìm kiếm</span>
									</button>
								</span>
							</form>
						</div>
						<div class="grid__item large--eight-twelfths pd-left15">
							<div class="fix-hd">
								<a href="tel:093 1387 046">
									<i class="fa fa-phone" aria-hidden="true"></i>
									<span>093 1387 046</span>
								</a>
								<a href="../pages/he-thong-cua-hang.html">
									<i class="fa fa-building" aria-hidden="true"></i>
									<span>Hệ thống <b>5</b> cửa hàng</span>
								</a>
								<a href="../cart.html">
									<div class="cart-total-price">
										<i class="fa fa-shopping-bag" aria-hidden="true"></i>
										<span id="CartCount">0</span>
									</div>
								</a>
							</div>
						</div>
					</div>
					<div class="grid mg-left-15">
						<div class="grid__item large--one-whole pd-left0">
							<div id="topmenu">
								<div class="wrapper">
									<div class="inner">
										<div class="grid mg-left-15">
											<div class="grid__item large--one-whole pd-left15">
												<div class="hd-navbar">
													<ul class="no-bullets" id="menu-container">
														<!-- Menu sẽ được tạo động từ dữ liệu JSON -->
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>

	<!-- tạo danh mục menu -->
	<script>
		function createMenu(menuData) {
			const menuContainer = document.getElementById('menu-container');

			// Xóa nội dung cũ nếu có
			menuContainer.innerHTML = '';

			// Tạo menu từ dữ liệu
			menuData.categories.forEach(category => {
				// Tạo phần tử li cho mỗi danh mục
				const categoryLi = document.createElement('li');
				categoryLi.className = 'dropdown';

				// Tạo liên kết cho danh mục
				const categoryLink = document.createElement('a');
				categoryLink.href = normalizeImagePath(category.url);
				categoryLink.innerHTML = `${category.name} <i class="fa fa-angle-down" aria-hidden="true"></i>`;
				categoryLi.appendChild(categoryLink);

				// Tạo submenu cho sản phẩm
				if (category.products && category.products.length > 0) {
					const submenu = document.createElement('ul');
					submenu.className = 'no-bullets dropdown-menu';

					// Thêm các sản phẩm vào submenu
					category.products.forEach(product => {
						const productLi = document.createElement('li');
						const productLink = document.createElement('a');
						productLink.href = normalizeImagePath(product.url);
						productLink.textContent = product.name;
						productLi.appendChild(productLink);
						submenu.appendChild(productLi);
					});

					categoryLi.appendChild(submenu);
				}

				// Thêm danh mục vào menu chính
				menuContainer.appendChild(categoryLi);
			});
		}
		function normalizeImagePath(path) {
			if (path.startsWith('../')) {
				return path;
			} else if (path.startsWith('./')) {
				return '../' + path.substring(2);
			} else {
				return '../' + path;
			}
		}
		// Hàm để tải dữ liệu JSON từ tệp
		function loadMenuData() {
			fetch(normalizeImagePath('products/getData.php?file=menu-data'))  // Tên tệp JSON của bạn
				.then(response => {
					if (!response.ok) {
						throw new Error('Không thể tải dữ liệu menu');
					}
					return response.json();
				})
				.then(data => {

					createMenu(data);
				})
				.catch(error => {
					console.error('Lỗi khi tải dữ liệu menu:', error);
				});
		}

		// Tải menu khi trang được tải
		document.addEventListener('DOMContentLoaded', loadMenuData);
	</script>

	<script>

		// Hàm để tải menu từ file JSON
		function loadMenuFromJSON() {
			fetch(normalizeImagePath('products/getData.php?file=menu-data'))  // Giả định là bạn đã lưu file JSON với tên này
				.then(response => {
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					return response.json();
				})
				.then(data => {
					renderMenu(data);
				})
				.catch(error => {
					console.error('Có lỗi khi tải dữ liệu menu:', error);
				});
		}

		// Hàm để render menu từ dữ liệu JSON
		function renderMenu(data) {
			const navDrawer = document.getElementById('NavDrawer');
			const mobileNav = document.createElement('ul');
			mobileNav.className = 'mobile-nav';

			// Tạo phần tìm kiếm
			const searchItem = document.createElement('li');
			searchItem.className = 'mobile-nav__item mobile-nav__search';
			searchItem.innerHTML = `
<form action="search.html" method="get" class="input-group search-bar home-search-bar" role="search">
<input type="hidden" name="type" value="product">
<input type="search" name="q" value="" placeholder="Tìm kiếm..." class="input-group-field" aria-label="Tìm kiếm...">
<span class="input-group-btn">
<button type="submit" class="btn icon-fallback-text">
<span class="icon icon-search" aria-hidden="true"></span>
<span class="fallback-text">Tìm kiếm</span>
</button>
</span>
</form>
`;
			mobileNav.appendChild(searchItem);

			// Thêm các mục menu từ dữ liệu JSON
			data.categories.forEach(category => {
				const categoryItem = document.createElement('li');

				if (category.products && category.products.length > 0) {
					// Danh mục có các sản phẩm con
					categoryItem.className = 'mobile-nav__item';
					categoryItem.setAttribute('aria-haspopup', 'true');

					categoryItem.innerHTML = `
<div class="mobile-nav__has-sublist">
<a href="${normalizeImagePath(category.url)}" class="mobile-nav__link">${category.name}</a>
<div class="mobile-nav__toggle">
<button type="button" class="icon-fallback-text mobile-nav__toggle-open">
<span class="icon icon-plus" aria-hidden="true"></span>
<span class="fallback-text">See More</span>
</button>
<button type="button" class="icon-fallback-text mobile-nav__toggle-close">
<span class="icon icon-minus" aria-hidden="true"></span>
<span class="fallback-text">"Đóng"</span>
</button>
</div>
</div>
<ul class="mobile-nav__sublist">
${category.products.map(product => `
<li class="mobile-nav__item" aria-haspopup="true">
<div class="mobile-nav__has-sublist">
<a href="${normalizeImagePath(product.url)}" class="mobile-nav__link">${product.name}</a>
</div>
</li>
`).join('')}
</ul>
`;
				} else {
					// Danh mục không có sản phẩm con
					categoryItem.className = 'mobile-nav__item';
					categoryItem.innerHTML = `
<a href="${normalizeImagePath(category.url)}" class="mobile-nav__link">${category.name}</a>
`;
				}

				mobileNav.appendChild(categoryItem);
			});

			// Xóa menu cũ và thêm menu mới
			const oldMobileNav = navDrawer.querySelector('.mobile-nav');
			if (oldMobileNav) {
				navDrawer.removeChild(oldMobileNav);
			}
			navDrawer.appendChild(mobileNav);

			// Thêm event listeners cho các nút toggle
			addToggleListeners();
		}

		// Hàm để thêm event listeners cho các nút toggle - ĐÃ SỬA LẠI
		function addToggleListeners() {
			const toggleButtons = document.querySelectorAll('.mobile-nav__toggle');

			toggleButtons.forEach(button => {
				button.addEventListener('click', function () {
					// Lấy phần tử cha .mobile-nav__has-sublist
					const hasSublist = this.closest('.mobile-nav__has-sublist');
					const openButton = this.querySelector('.mobile-nav__toggle-open');
					const closeButton = this.querySelector('.mobile-nav__toggle-close');

					// Toggle class mobile-nav--expanded cho hasSublist
					if (hasSublist.classList.contains('mobile-nav--expanded')) {
						hasSublist.classList.remove('mobile-nav--expanded');
						openButton.style.display = 'inline-block';
						closeButton.style.display = 'none';
					} else {
						hasSublist.classList.add('mobile-nav--expanded');
						openButton.style.display = 'none';
						closeButton.style.display = 'inline-block';
					}
				});
			});
		}

		// Tải menu khi trang đã tải xong
		document.addEventListener('DOMContentLoaded', loadMenuFromJSON);
	</script>

	<script>
		// Script để lấy dữ liệu danh mục menu từ file JSON
		document.addEventListener('DOMContentLoaded', function () {
			// Đường dẫn đến file JSON của bạn
			const jsonFilePath = normalizeImagePath('products/getData.php?file=menu-data');

			// Hàm để tải dữ liệu từ file JSON
			function loadMenuData() {
				fetch(jsonFilePath)
					.then(response => {
						if (!response.ok) {
							throw new Error('Không thể tải file JSON. Trạng thái: ' + response.status);
						}
						return response.json();
					})
					.then(data => {
						renderMenu(data.categories);
						// Khôi phục lại sự kiện click sau khi đã render menu
						setupDropMenuEvent();
					})
					.catch(error => {
						console.error('Lỗi khi tải dữ liệu menu:', error);
					});
			}

			// Hàm thiết lập sự kiện cho nút drop-menu
			function setupDropMenuEvent() {
				// Đảm bảo chỉ gắn sự kiện một lần
				$('#drop-menu').off('click').on('click', function () {
					$('#nav-mobile').toggleClass('red_highlight', 'no_highlight');
				});
			}

			// Hàm render menu dựa trên cấu trúc HTML hiện tại
			function renderMenu(categories) {
				const navMobile = document.getElementById('nav-mobile');
				if (!navMobile) return;

				// Lưu trạng thái class hiện tại
				const hasRedHighlight = navMobile.classList.contains('red_highlight');

				navMobile.innerHTML = ''; // Xóa menu cũ

				// Khôi phục class red_highlight nếu có
				if (hasRedHighlight) {
					navMobile.classList.add('red_highlight');
				}

				categories.forEach(category => {
					const li = document.createElement('li');
					li.className = '';

					const a = document.createElement('a');
					a.href = normalizeImagePath(category.url);
					a.textContent = category.name;

					li.appendChild(a);
					navMobile.appendChild(li);
				});
			}

			// Gọi hàm tải dữ liệu
			loadMenuData();
		});
	</script>

	<header class="fixd-mobile large--hide">

		<div id="site-mobile" class="large--hide ">
			<div class="wrapper">
				<div class="inner">
					<div class="grid">
						<div class="grid__item medium--two-twelfths small--two-twelfths">
							<div class="site-nav--mobile">
								<button type="button" class="icon-fallback-text site-nav__link js-drawer-open-left"
									aria-controls="NavDrawer" aria-expanded="false">
									<i class="fa fa-bars" aria-hidden="true"></i>
								</button>
							</div>
						</div>
						<div class="grid__item medium--eight-twelfths small--eight-twelfths pd-left0 hd-searchbar">
							<form action="search.html" method="get" class="input-group search-bar home-search-bar"
								role="search">
								<input type="hidden" name="type" value="product">
								<input type="search" name="q" value="" placeholder="Tìm kiếm..."
									class="input-group-field" aria-label="Tìm kiếm...">
								<span class="input-group-btn">
									<button type="submit" class="btn icon-fallback-text">
										<span class="icon icon-search" aria-hidden="true"></span>
										<span class="fallback-text">Tìm kiếm</span>
									</button>
								</span>
							</form>

						</div>
						<div class="grid__item medium--two-twelfths small--two-twelfths text-right">
							<div class="site-nav--mobile cart-site">
								<a href="../cart.html" class="js-drawer-open-right site-nav__link text-center"
									aria-controls="CartDrawer" aria-expanded="false">
									<span class="icon-fallback-text">
										<i class="fa fa-shopping-cart" aria-hidden="true"></i>
									</span>
								</a>
							</div>
						</div>
						<div class="grid__item medium--one-whole small--one-whole">
							<div class="fix-hd">
								<a href="tel:093 1387 046">
									<i class="fa fa-phone" aria-hidden="true"></i>
									<span>093 1387 046</span>
								</a>
								<a href="../pages/he-thong-cua-hang.html">
									<i class="fa fa-building" aria-hidden="true"></i>
									<span>Hệ thống <b>5</b> cửa hàng</span>
								</a>

							</div>
						</div>
						<div class="grid__item medium--one-whole small--one-whole pd-left0">
							<div id="site-header">
								<div id="topmenu">
									<div class="hd-navbar">
										<ul id="nav-mobile" class="no-bullets">

										</ul>
										<span id="drop-menu" class="icon-drop">
											<i class="fa fa-angle-double-down"></i>
										</span>
									</div>
								</div>
							</div>
							<script>
								$(document).ready(function () {

									$('#drop-menu').on('click', function () {
										$('#nav-mobile').toggleClass('red_highlight', 'no_highlight');
									});
								});

							</script>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>



	<div id="home-main-slidermb" class="owl-carousel slider-mobile">



		<div class="owl-slide owl-slide2">
			<a href="#">
				<img src="../../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img2ee64.jpg"
					class="img-responsive" />
			</a>
		</div>



		<div class="owl-slide owl-slide3">
			<a href="#">
				<img src="../../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img3ee64.jpg"
					class="img-responsive" />
			</a>
		</div>



		<div class="owl-slide owl-slide4">
			<a href="#">
				<img src="../../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img4ee64.jpg"
					class="img-responsive" />
			</a>
		</div>


		<div class="owl-slide owl-slide5">
			<a href="blogs/news/anh-hoa-bakery-khai-truong-co-so-12-tai-so-275-ho-tung-mau.html">
				<img src="../../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img5ee64.jpg"
					class="img-responsive" />
			</a>
		</div>




	</div>



	<section id="breadcrumb-wrapper" class="breadcrumb-w-img">
		<div class="breadcrumb-overlay"></div>
		<div class="breadcrumb-content">
			<div class="wrapper">
				<div class="inner text-center">
					<div class="breadcrumb-big">

						<h2>
							KẾT QUẢ TÌM KIẾM
						</h2>

					</div>

				</div>
			</div>
		</div>
	</section>



	<div id="PageContainer" class="is-moved-by-drawer">
		<main class="main-content" role="main">
			<!-- CSS cho trang tìm kiếm -->
			<style>
				.load-more-button {
					width: 100%;
					text-align: center;
					margin-top: 20px;
					margin-bottom: 20px;
				}

				.load-more-button .btn {
					background-color: #3c1518;
					color: white;
					border: none;
					padding: 10px 20px;
					border-radius: 4px;
					cursor: pointer;
					font-size: 16px;
					transition: background-color 0.3s;
				}

				.load-more-button .btn:hover {
					background-color: #541e21;
				}

				/* Responsive grid */
				@media (max-width: 1200px) {
					.search-results-container {
						grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
					}
				}

				@media (max-width: 768px) {
					.search-results-container {
						grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
					}
				}

				@media (max-width: 480px) {
					.search-results-container {
						grid-template-columns: 1fr;
					}
				}

				.search-results-container {
					display: grid;
					grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
					gap: 20px;
					justify-content: center;
					padding: 20px;
					background-color: #f9f5f0;
					width: 100%;
				}

				.product-card {
					width: 100%;
					/* Thay vì width: 300px */
					background-color: white;
					border-radius: 8px;
					overflow: hidden;
					box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
					transition: transform 0.3s;
					margin-bottom: 20px;
					display: flex;
					flex-direction: column;
				}

				.product-info {
					padding: 5px;
					text-align: center;
					flex-grow: 1;
					/* Cho phép khu vực thông tin mở rộng để các card có chiều cao bằng nhau */
				}

				.product-card:hover {
					transform: translateY(-5px);
				}

				.product-image {
					width: 100%;
					height: 100%;
					position: relative;
				}

				.product-image img {
					width: 100%;
					height: 100%;
					object-fit: cover;
				}

				.best-seller {
					position: absolute;
					top: 10px;
					right: 10px;
					width: 50px;
					height: 50px;
				}

				.load-more-button {
					width: 100%;
					text-align: center;
					margin-top: 20px;
					margin-bottom: 20px;
				}

				.load-more-button .btn {
					background-color: #3c1518;
					color: white;
					border: none;
					padding: 10px 20px;
					border-radius: 4px;
					cursor: pointer;
					font-size: 16px;
					transition: background-color 0.3s;
				}

				.load-more-button .btn:hover {
					background-color: #541e21;
				}

				.product-link {
					text-decoration: none;
					color: inherit;
					display: flex;
					flex-direction: column;
					flex-grow: 1;
				}

				.product-title {
					font-size: 18px;
					font-weight: bold;
					margin-bottom: 1px;
					color: #333;
				}

				.product-sku {
					font-size: 14px;
					color: #666;
					margin-bottom: 5px;
				}

				.product-actions {
					display: flex;
					justify-content: space-around;
					;
					align-items: center;
				}

				.price {
					font-size: 18px;
					font-weight: bold;
					background-color: #c8df22;
					color: #333;
					padding: 8px 15px;
					border-radius: 4px;
				}

				.add-to-cart {
					background-color: #3c1518;
					color: white;
					border: none;
					padding: 10px;
					border-radius: 4px;
					cursor: pointer;
					width: 100px;
					height: 40px;
					display: flex;
					justify-content: center;
					align-items: center;
				}

				.not-found {
					width: 100%;
					text-align: center;
					padding: 20px;
					font-size: 18px;
					color: #666;
				}

				.search-title {
					width: 100%;
					text-align: center;
					margin-bottom: 20px;
					color: #3c1518;
				}
			</style>

			<section id="collection-wrapper">
				<div class="wrapper">
					<div class="inner">
						<div class="grid">
							<div class="grid__item large--three-twelfths medium--one-whole small--one-whole">
								<div class="collection-sidebar-wrapper-sticky">
									<div class="collection-sidebar-wrapper">
										<div class="grid">
											<div
												class="grid__item large--one-whole medium--one-half push--medium--one-quarter small--one-whole">
												<div class="collection-categories">
													<button class="accordion cs-title col-sb-trigger active">
														<span>Danh mục menu</span>
													</button>
													<div class="panel" style="max-height: 1100px;">
														<ul class="no-bullets">
															<!-- Danh sách sẽ được thêm tự động bằng JavaScript -->
														</ul>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="grid__item large--nine-twelfths medium--one-whole small--one-whole">
								<div id="search-results"></div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- JavaScript cho tìm kiếm sản phẩm -->
			<script>
				// Hàm lấy tham số từ URL
				function getQueryParam(param) {
					let urlParams = new URLSearchParams(window.location.search);
					return urlParams.get(param);
				}

				// Hàm chuẩn hóa đường dẫn hình ảnh
				function normalizeImagePath(path) {
					if (path.startsWith('../')) {
						return path;
					} else if (path.startsWith('./')) {
						return '../' + path.substring(2);
					} else {
						return '../' + path;
					}
				}

				// Hàm định dạng tiền tệ
				function formatMoney(amount) {
					return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + "₫";
				}

				// Hàm tải và hiển thị kết quả tìm kiếm
				async function searchProducts() {
					let query = getQueryParam("q");
					let resultsContainer = document.getElementById("search-results");

					if (!query) {
						resultsContainer.innerHTML = "<p class='not-found'>Vui lòng nhập từ khóa tìm kiếm.</p>";
						return;
					}

					try {
						let response = await fetch(normalizeImagePath('products/getData.php?file=productData')); // Đường dẫn đến JSON
						let data = await response.json();

						let searchResults = Object.entries(data).filter(([handle, product]) =>
							product.productName.toLowerCase().includes(query.toLowerCase()) ||
							product.productSku.toLowerCase().includes(query.toLowerCase())
						);

						resultsContainer.innerHTML = "";

						if (searchResults.length === 0) {
							resultsContainer.innerHTML = `
                <div class="search-title">
                    <h2>Kết quả tìm kiếm cho: "${query}"</h2>
                    <p>Không tìm thấy sản phẩm nào phù hợp với từ khóa.</p>
                </div>
            `;
							return;
						}

						// Hiển thị tiêu đề tìm kiếm
						resultsContainer.innerHTML = `
            <div class="search-title">
                <h2>Kết quả tìm kiếm cho: "${query}"</h2>
                <p>Tìm thấy ${searchResults.length} sản phẩm</p>
            </div>
            <div class="search-results-container"></div>
        `;

						let productsContainer = resultsContainer.querySelector(".search-results-container");

						// Số lượng sản phẩm tối đa hiển thị ban đầu (4 hàng x 2 sản phẩm)
						let maxProductsToShow = 8;
						let initialProducts = searchResults.slice(0, maxProductsToShow);

						// Hiển thị danh sách sản phẩm ban đầu
						initialProducts.forEach(([handle, product]) => {
							let price = product.productPrice;
							if (typeof price === 'number') {
								price = formatMoney(price);
							}

							let productHTML = `
                <div class="product-card">
                    <a href="../${product.url}" class="product-link">
                        <div class="product-image">
                            <img src="${normalizeImagePath(product.image)}" alt="${product.productName}">
                        </div>
                        <div class="product-info">
                            <div class="product-title">${product.productName}</div>
                            <div class="product-sku">${product.productSku}</div>
                        </div>
                    </a>
                    <div class="product-actions">
                        <div class="price">${price}</div>
                        <button class="add-to-cart" onclick="window.location.href='${normalizeImagePath(product.url)}'">
                           <a class="btn btn-view-detail">
										<i class="fa fa-eye" aria-hidden="true"></i> Xem thêm
									</a>
                        </button>
                    </div>
                </div>
            `;
							productsContainer.innerHTML += productHTML;
						});

						// Nếu có nhiều sản phẩm hơn số lượng tối đa, hiển thị nút "Xem thêm"
						if (searchResults.length > maxProductsToShow) {
							let loadMoreButton = document.createElement('div');
							loadMoreButton.className = 'load-more-button';
							loadMoreButton.innerHTML = `
                <button class="btn" id="load-more">Xem thêm sản phẩm</button>
            `;
							resultsContainer.appendChild(loadMoreButton);

							// Xử lý sự kiện khi nhấn nút "Xem thêm"
							document.getElementById('load-more').addEventListener('click', function () {
								// Lấy các sản phẩm còn lại
								let remainingProducts = searchResults.slice(maxProductsToShow);
								remainingProducts.forEach(([handle, product]) => {
									let price = product.productPrice;
									if (typeof price === 'number') {
										price = formatMoney(price);
									}

									let productHTML = `
                        <div class="product-card">
                            <a href="../${product.url}" class="product-link">
                                <div class="product-image">
                                    <img src="${normalizeImagePath(product.image)}" alt="${product.productName}">
                                </div>
                                <div class="product-info">
                                    <div class="product-title">${product.productName}</div>
                                    <div class="product-sku">${product.productSku}</div>
                                </div>
                            </a>
                            <div class="product-actions">
                                <div class="price">${price}</div>
                                <button class="add-to-cart" onclick="window.location.href='${normalizeImagePath(product.url)}'">
                                    <a class="btn btn-view-detail">
										<i class="fa fa-eye" aria-hidden="true"></i> Xem thêm
									</a>
                                </button>
                            </div>
                        </div>
                    `;
									productsContainer.innerHTML += productHTML;
								});

								// Xóa nút "Xem thêm" sau khi hiển thị tất cả sản phẩm
								this.parentNode.remove();
							});
						}

					} catch (error) {
						console.error("Lỗi khi tải dữ liệu:", error);
						resultsContainer.innerHTML = "<p class='not-found'>Lỗi tải dữ liệu sản phẩm.</p>";
					}
				}
				// Gọi hàm khi trang tải xong
				document.addEventListener("DOMContentLoaded", searchProducts);
			</script>

			<section id="related-products">
				<div class="wrapper">
					<div class="inner">
						<div class="home-section-head text-center title-text clearfix">
							<h3>Có thể bạn thích</h3>
							<h2>Món Ngon Khác của chúng tôi</h2>
							<img src="../../theme.hstatic.net/1000313040/1000406925/14/product_details_lineee64.png"
								alt="">
						</div>
						<div class="home-section-body">
							<div class="custom-carousel-container">
								<button class="custom-carousel-nav custom-prev">
									<i class="fa fa-angle-left" aria-hidden="true"></i>
								</button>

								<div class="custom-carousel-wrapper">
									<div id="custom-products-slider" class="custom-carousel-track">
										<!-- Sản phẩm sẽ được thêm vào đây bằng JavaScript -->
									</div>
								</div>

								<button class="custom-carousel-nav custom-next">
									<i class="fa fa-angle-right" aria-hidden="true"></i>
								</button>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- JavaScript cho carousel tùy chỉnh -->
			<script>
				document.addEventListener("DOMContentLoaded", function () {
					// Các biến cho carousel
					let currentIndex = 0;
					let itemsPerPage = 3;
					let totalItems = 0;
					const track = document.getElementById('custom-products-slider');
					const nextButton = document.querySelector('.custom-next');
					const prevButton = document.querySelector('.custom-prev');

					// Điều chỉnh số lượng sản phẩm hiển thị theo kích thước màn hình
					function updateItemsPerPage() {
						if (window.innerWidth <= 480) {
							itemsPerPage = 1;
						} else if (window.innerWidth <= 768) {
							itemsPerPage = 2;
						} else {
							itemsPerPage = 3;
						}
						moveCarousel(currentIndex);
					}

					// Cập nhật vị trí carousel
					function moveCarousel(index) {
						if (index < 0) index = 0;

						const maxIndex = Math.max(0, totalItems - itemsPerPage);
						if (index > maxIndex) index = maxIndex;

						currentIndex = index;

						const itemWidth = track.querySelector('.custom-carousel-item')?.offsetWidth || 0;
						const gap = parseInt(getComputedStyle(track).gap) || 0; // Lấy khoảng cách giữa các sản phẩm
						if (itemWidth) {
							const offset = currentIndex * (itemWidth + gap);
							track.style.transform = `translateX(-${offset}px)`;
						}

						prevButton.disabled = currentIndex === 0;
						nextButton.disabled = currentIndex >= maxIndex;
					}

					// Xử lý sự kiện nút prev và next theo kích thước màn hình
					function updateNavButtonHandlers() {
						// Xóa event listeners cũ
						prevButton.removeEventListener('click', prevClickHandler);
						nextButton.removeEventListener('click', nextClickHandler);

						// Thêm event listeners mới
						prevButton.addEventListener('click', prevClickHandler);
						nextButton.addEventListener('click', nextClickHandler);
					}

					function prevClickHandler() {
						let step = (window.innerWidth <= 480) ? 1 : itemsPerPage;
						moveCarousel(Math.max(0, currentIndex - step));
					}

					function nextClickHandler() {
						let step = (window.innerWidth <= 480) ? 1 : itemsPerPage;
						moveCarousel(Math.min(totalItems - 1, currentIndex + step));
					}

					// Xử lý sự kiện nút prev
					prevButton.addEventListener('click', function () {
						moveCarousel(currentIndex - 1);
					});

					// Xử lý sự kiện nút next
					nextButton.addEventListener('click', function () {
						moveCarousel(currentIndex + 1);
					});

					// Tải dữ liệu sản phẩm
					function loadProducts() {
						fetch(normalizeImagePath('products/getData.php?file=productData'))
							.then(response => response.json())
							.then(data => {
								const productsArray = Object.values(data);
								const randomProducts = getRandomProducts(productsArray, 7);
								displayProducts(randomProducts);
							})
							.catch(error => {
								console.error("Lỗi tải dữ liệu:", error);
								// Hiển thị sản phẩm mẫu nếu có lỗi
								displaySampleProduct();
							});
					}
					document.documentElement.style.setProperty('--items-per-page', itemsPerPage);

					// Lấy ngẫu nhiên các sản phẩm
					function getRandomProducts(arr, count) {
						const shuffled = [...arr].sort(() => 0.5 - Math.random());
						return shuffled.slice(0, count);
					}

					// Hiển thị sản phẩm mẫu nếu có lỗi
					function displaySampleProduct() {
						track.innerHTML = `
							<div class="custom-carousel-item">
								<div class="product--loop">
									<div class="product-img">
										<a href="#">
											<img alt="Sản phẩm mẫu" src="../../product.hstatic.net/1000313040/product/448436545_873122281525887_5804248093557273602_n_2b46ed1a4d2a465194a16d43a38bee7d_large.jpg">
										</a>
									</div>
									<div class="product-title text-center">
										<a href="#">Sản phẩm mẫu</a>
										<p></p>
									</div>
									<div class="product-price-actions clearfix">
										<div class="product-price">Liên hệ</div>
										<div class="product-actions">
											<button type="button" class="btn add-to-cart">
												<i class="fa fa-shopping-cart" aria-hidden="true"></i>
											</button>
										</div>
									</div>
								</div>
							</div>
						`;
						totalItems = 1;
						updateItemsPerPage();
					}

					// Hiển thị các sản phẩm
					function displayProducts(products) {
						track.innerHTML = '';

						products.forEach(product => {
							const productItem = document.createElement('div');
							productItem.className = 'custom-carousel-item';
							productItem.innerHTML = `
								<div class="product--loop">
									<div class="product-img">
										<a href="${normalizeImagePath(product.url)}">
											<img alt="${product.productName}" 
												 src="${normalizeImagePath(product.image)}" 
												 style="width: 200px; height: auto; object-fit: cover;">
										</a>
									</div>
									<div class="product-title text-center">
										<a href="${normalizeImagePath(product.url)}">${product.productName}</a>
										<p></p>
									</div>
									<div class="product-price-actions clearfix">
										<div class="product-price">${product.productPrice}</div>
										<div class="product-actions">
											<a href="${normalizeImagePath(product.url)}" class="btn btn-view-detail">
										<i class="fa fa-eye" aria-hidden="true"></i> Xem thêm
									</a>
										</div>
									</div>
								</div>
							`;
							track.appendChild(productItem);
						});

						totalItems = products.length;
						updateItemsPerPage();
					}

					// Theo dõi sự thay đổi kích thước màn hình
					window.addEventListener('resize', updateItemsPerPage);

					// Khởi tạo carousel
					loadProducts();
				});
			</script>
		</main>
	</div>
	<!-- cập nhật thông tin doanh nghiệp -->
	<script>
		// Hàm tải nội dung từ file txt bên ngoài
		function loadCompanyInfo() {
			fetch(normalizeImagePath('products/company-info.txt'))
				.then(response => response.text())
				.then(data => {
					// Chuyển đổi dấu xuống dòng thành <br>
					const formattedData = '<p>' + data.replace(/\n/g, '<br>') + '</p>';
					document.getElementById('company-info').innerHTML = formattedData;
				})
				.catch(error => console.error('Lỗi khi tải thông tin:', error));
		}


		// Gọi hàm khi trang được tải
		document.addEventListener('DOMContentLoaded', loadCompanyInfo);
	</script>
	<!-- Thêm Font Awesome cho các icon -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

	<!-- CSS cho carousel tùy chỉnh -->
	<style>
		.btn-view-detail {
			display: inline-flex;
			align-items: center;
			gap: 5px;
			padding: 10px 10px;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 4px;
			text-decoration: none;
			transition: background-color 0.3s;
		}

		.btn-view-detail:hover {
			background-color: #45a049;
			color: white;
		}

		.custom-carousel-container {
			position: relative;
			width: 100%;
			display: flex;
			align-items: center;
			padding: 0 10px;
		}

		.custom-carousel-wrapper {
			width: 100%;
			overflow: hidden;
			position: relative;
		}

		.custom-carousel-track {
			display: flex;
			transition: transform 0.3s ease-in-out;
			gap: 20px;
		}

		.custom-carousel-item {
			box-sizing: border-box;
			flex: 0 0 calc(100% / var(--items-per-page) - 10px);
		}

		.custom-carousel-nav {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background-color: rgba(255, 255, 255, 0.8);
			border: 1px solid #ddd;
			color: #333;
			font-size: 18px;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			z-index: 10;
			transition: all 0.3s ease;
			flex-shrink: 0;
		}

		.custom-carousel-nav:hover {
			background-color: #fff;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}

		.custom-prev {
			margin-right: 15px;
		}

		.custom-next {
			margin-left: 15px;
		}

		/* Sản phẩm */
		.product--loop {
			border: 1px solid #eee;
			padding: 10px;
			background-color: #fff;
			border-radius: 8px;
			transition: all 0.3s ease;
			display: flex;
			flex-direction: column;
		}

		.product--loop:hover {
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
			transform: translateY(-5px);
		}

		.product-img {
			text-align: center;
			margin-bottom: 10px;
			flex-grow: 0;
		}

		.product-img img {
			max-width: 100%;
			height: auto;
			object-fit: cover;
		}

		.product-title {
			margin-bottom: 10px;
			flex-grow: 1;
		}

		.product-title a {
			color: #333;
			font-weight: 500;
			text-decoration: none;
			display: block;
			transition: color 0.3s ease;
		}

		.product-title a:hover {
			color: #f39c12;
		}

		.product-price-actions {
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-grow: 0;
		}

		.product-price {
			font-weight: bold;
			color: #e74c3c;
		}

		.btn.add-to-cart {
			width: 36px;
			height: 36px;
			border-radius: 50%;
			background-color: #f39c12;
			color: white;
			border: none;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			transition: background-color 0.3s ease;
		}

		.btn.add-to-cart:hover {
			background-color: #e67e22;
		}

		/* Responsive */
		@media (max-width: 768px) {
			.custom-carousel-item {
				flex: 0 0 calc(50% - 20px);
			}
		}

		@media (max-width: 480px) {
			.custom-carousel-item {
				flex: 0 0 calc(100% - 20px);
			}
		}
	</style>

	<!-- css cho topping -->
	<style>
		.topping-count {
			position: absolute;
			top: 0;
			right: 0;
			background-color: red;
			color: white;
			border-radius: 50%;
			width: 15px;
			height: 15px;
			text-align: center;
			line-height: 15px;
			font-size: 10px;
			font-weight: bold;
			display: none;
			/* Ẩn mặc định, sẽ hiển thị khi số lượng > 1 */
		}

		.topping-name {
			user-select: none;
			/* Chặn bôi đen chữ */
			-webkit-user-select: none;
			/* Cho trình duyệt WebKit (Chrome, Safari) */
			-moz-user-select: none;
			/* Cho Firefox */
			-ms-user-select: none;
			/* Cho IE/Edge */
		}

		.topping-price {
			user-select: none;
			/* Chặn bôi đen chữ */
			-webkit-user-select: none;
			/* Cho trình duyệt WebKit (Chrome, Safari) */
			-moz-user-select: none;
			/* Cho Firefox */
			-ms-user-select: none;
			/* Cho IE/Edge */
			color: #ff5722;
			font-size: 12px;
			/* Giảm kích thước font */
			font-weight: normal;
		}

		.swatch-element .sd+.topping-count {
			display: block;
			/* Hiển thị khi topping được chọn */
		}
	</style>

	<style>
		.collection-sidebar-wrapper.stick {
			position: fixed;
			top: 0;
			z-index: 10;
			max-width: 288px;
		}
	</style>


	<!-- cấu hình của modal -->
	<div class="modal" id="productQuickView">
		<div class="modal-content">
			<span id="close" class="close">&times;</span>
			<form class="grid" id="form-quick-view">
				<div class="grid__item large--five-tenths">
					<div class="image-zoom">
						<img id="p-product-image-feature" class="p-product-image-feature" src="#">
						<div id="p-sliderproduct" class="flexslider">
							<ul class="slides"></ul>
						</div>
					</div>
				</div>
				<div class="grid__item large--five-tenths pull-right">
					<h4 class="p-title   modal-title " id="">Tên sản phẩm</h4>
					<p class="product-more-info">
						<span class="product-sku">
							Mã sản phẩm: <span id="ProductSku">140421</span>
						</span>
					</p>
					<div class="form-input product-price-wrapper">
						<div class="product-price">
							<span class="p-price "></span>
							<del></del>
						</div>
						<em id="PriceSaving"></em>
					</div>

					<div id="swatch-quick-view" class="select-swatch">
						<div id="swatch-quick-view" class="select-swatch">
							<div id="variant-swatch-0-quickview" class="swatch swatch-quick-view clearfix"
								data-option="option1" data-option-index="0">
								<div class="header"> Topping </div>
								<div class="select-swap">
									<div data-value="21 cm" class="n-sd swatch-element 21-cm">
										<input class="variant-0 input-quickview" id="qv-swatch-0-21-cm" type="checkbox"
											name="option1[]" value="21 cm">
										<label for="qv-swatch-0-21-cm">Pate
											<img class="crossed-out"
												src="../../theme.hstatic.net/1000313040/1000406925/14/soldoutee64.png">
											<img class="img-check"
												src="../../theme.hstatic.net/1000313040/1000406925/14/select-proee64.png">
										</label>
										<div class="topping-count">1</div>
									</div>

								</div>
							</div>
						</div>

					</div>
					<div class="form-input hidden">
						<label>Số lượng</label>
						<input name="quantity" type="number" min="1" value="1" />
					</div>

					<div class="form-input" style="width: 100%">
						<button type="submit" class="btn btn-addcart " id="AddToCardQuickView">Thêm vào
							giỏ</button>
						<div class="qv-readmore">
							<span> hoặc </span><a class="read-more p-url" href="#" role="button">Xem chi
								tiết</a>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>

	<!-- cập nhật giá trong modal -->
	<script>
		let basePrice = 0;
		let priceElement = null;
		let quantityInput = null;

		document.addEventListener('DOMContentLoaded', function () {
			// Sử dụng event delegation cho nút quick-view
			document.addEventListener('click', function (event) {
				if (event.target.closest('.quick-view')) {
					// Đợi modal hiển thị
					setTimeout(() => {
						priceElement = document.querySelector('#productQuickView .p-price');
						quantityInput = document.querySelector('#productQuickView input[name="quantity"]');

						if (priceElement) {
							basePrice = extractPrice(priceElement.textContent);
							//console.log("Giá gốc sản phẩm: " + basePrice);
						} else {
							console.log("Không tìm thấy phần tử giá!");
						}

						// Lắng nghe sự kiện thay đổi số lượng sản phẩm
						if (quantityInput) {
							// Xóa event listener cũ (nếu có) trước khi thêm mới để tránh duplicate
							quantityInput.removeEventListener("input", updateQuantity);
							quantityInput.addEventListener("input", updateQuantity);

							// Xử lý nút tăng giảm số lượng
							const minusButton = document.querySelector('.js-qty__adjust--minus');
							const plusButton = document.querySelector('.js-qty__adjust--plus');

							if (minusButton) {
								minusButton.removeEventListener("click", triggerQuantityInput);
								minusButton.addEventListener("click", triggerQuantityInput);
							}

							if (plusButton) {
								plusButton.removeEventListener("click", triggerQuantityInput);
								plusButton.addEventListener("click", triggerQuantityInput);
							}
						}

						// Xóa event listener cũ (nếu có) trước khi thêm mới
						jQuery('#productQuickView').off('change', 'input.input-quickview');
						jQuery('#productQuickView').off('click', '.topping-quantity-btn');

						// Lắng nghe sự kiện thay đổi topping (checkbox)
						jQuery('#productQuickView').on('change', 'input.input-quickview', function (e) {
							updateTotalPrice();
						});

						// Lắng nghe sự kiện thay đổi số lượng topping
						jQuery('#productQuickView').on('click', '.topping-quantity-btn', function () {
							updateTotalPrice();
						});

						updateTotalPrice();
					}, 300);
				}
			});
		});

		// Hàm xử lý sự kiện thay đổi số lượng
		function updateQuantity() {
			let quantityValue = parseInt(this.value) || 1;
			this.value = quantityValue;
			updateTotalPrice();
		}

		// Hàm kích hoạt sự kiện input trên ô số lượng
		function triggerQuantityInput() {
			if (quantityInput) {
				quantityInput.dispatchEvent(new Event("input"));
			}
		}

		function updateTotalPrice() {
			if (!priceElement || !quantityInput) return;

			// Lấy số lượng sản phẩm
			let quantityValue = parseInt(quantityInput.value) || 1;

			// Tính tổng giá sản phẩm (không bao gồm topping)
			let productPrice = basePrice * quantityValue;

			// Tính tổng giá topping
			let totalToppingPrice = 0;

			// Duyệt qua tất cả topping
			jQuery('#productQuickView input.input-quickview').each(function () {
				let $this = jQuery(this);

				// Kiểm tra trạng thái (được chọn hay bỏ chọn)
				let isSelected = $this.next().hasClass('sd');

				// Chỉ tính giá cho topping được chọn
				if (isSelected) {
					// Lấy giá topping
					let toppingPrice = parseInt($this.closest('.swatch-element').find('.topping-price').text().replace(/[^0-9]/g, '')) || 0;

					// Lấy số lượng topping
					let toppingCountElement = $this.closest('.swatch-element').find('.topping-count');
					let toppingCount = parseInt(toppingCountElement.text()) || 1;

					//console.log(`Topping: ${$this.closest('.swatch-element').find('.topping-name').text().trim()}`);
					//console.log(`- Trạng thái: ${isSelected ? 'Đã chọn' : 'Chưa chọn'}`);
					//console.log(`- Giá topping: ${toppingPrice}`);
					//console.log(`- Số lượng topping: ${toppingCount}`);

					// Tính giá cho một topping và nhân với số lượng sản phẩm
					let toppingTotalPrice = toppingPrice * toppingCount;

					// Cộng vào tổng giá topping
					totalToppingPrice += toppingTotalPrice;

					//console.log(`- Thành tiền topping: ${toppingPrice} × ${toppingCount} × ${quantityValue} = ${toppingTotalPrice}`);
				}
			});

			// Tính tổng giá cuối cùng: (giá sản phẩm * số lượng) + (tổng giá topping)
			let finalPrice = productPrice + totalToppingPrice;

			//console.log(`Giá sản phẩm gốc: ${basePrice}, Số lượng: ${quantityValue}, Tổng giá sản phẩm: ${productPrice}`);
			//console.log(`Tổng giá topping: ${totalToppingPrice}`);
			//console.log(`Tổng giá cuối cùng: ${finalPrice}₫`);

			// Cập nhật giá hiển thị
			priceElement.textContent = formatCurrency(finalPrice);
		}

		// Hàm trích xuất giá từ chuỗi định dạng
		function extractPrice(priceString) {
			return parseInt(priceString.replace(/[^0-9]/g, ""), 10) || 0;
		}

		// Hàm định dạng tiền tệ
		function formatCurrency(amount) {
			return amount.toLocaleString('vi-VN') + "₫";
		}
	</script>

	<!-- mở modal qua file -->
	<script>
		// Thêm các biến để lưu trạng thái scroll
		let scrollPosition;
		let isModalOpen = false;

		document.addEventListener('DOMContentLoaded', function () {
			// Lắng nghe sự kiện click trên document và kiểm tra nếu click vào nút quick-view
			document.addEventListener('click', function (event) {
				if (event.target.closest('.quick-view')) { // Kiểm tra nếu phần tử được click là nút quick-view
					handleQuickViewClick(event);
				}
			});

			function handleQuickViewClick(event) {
				event.preventDefault(); // Ngăn hành động mặc định
				const button = event.target.closest('.quick-view');
				// Lấy data-handle từ nút
				const productHandle = button.getAttribute('data-handle');

				// Lưu vị trí scroll hiện tại
				scrollPosition = window.pageYOffset;
				isModalOpen = true;

				// Vô hiệu hóa cuộn trên body
				document.body.style.overflow = 'hidden';
				document.body.style.position = 'fixed';
				document.body.style.top = `-${scrollPosition}px`;
				document.body.style.width = '100%';

				// Lấy dữ liệu từ file JSON
				fetch('../products/getData.php?file=productData')
					.then(response => response.json())
					.then(data => {
						const product = data[productHandle]; // Lấy dữ liệu sản phẩm tương ứng

						if (product) {
							// Cập nhật thông tin vào modal
							document.querySelector('#productQuickView #p-product-image-feature').src = normalizeImagePath(product.image);
							document.querySelector('#productQuickView .modal-title').textContent = product.productName;
							document.querySelector('#ProductSku').textContent = product.productSku;
							document.querySelector('#productQuickView .p-price').textContent = product.productPrice;
							document.querySelector('#productQuickView .p-url').href = normalizeImagePath(product.url);
							const toppingsContainer = document.querySelector("#variant-swatch-0-quickview .select-swap");
							toppingsContainer.innerHTML = ""; // Xóa dữ liệu cũ trước khi thêm mới

							if (product.toppings && product.toppings.length > 0) {
								product.toppings.forEach((topping, index) => {
									const toppingHTML = `
<div data-value="${topping.value}" class="n-sd swatch-element ${topping.value}" style="position: relative;">
    <input class="variant-0 input-quickview" id="qv-swatch-0-${topping.value}" 
        type="checkbox" name="topping" value="${topping.value}">
    <label for="qv-swatch-0-${topping.value}">
        <span class="topping-content">
            <div class="topping-name">${topping.name}</div>
            <div class="topping-price">${topping.price.toLocaleString('vi-VN')}₫</div>
        </span>
        <img class="crossed-out" src="//theme.hstatic.net/1000313040/1000406925/14/soldout.png">
        <img class="img-check" src="//theme.hstatic.net/1000313040/1000406925/14/select-pro.png">
    </label>
    <div class="topping-count">1</div>
</div>
`;
									toppingsContainer.innerHTML += toppingHTML;
								});
							} else {
								toppingsContainer.innerHTML = '<p style="color: red;">Không có topping nào.</p>';
							}

							// Hiển thị modal với hiệu ứng
							const modal = document.getElementById('productQuickView');
							modal.style.display = 'block'; // Sử dụng flex để dễ căn giữa modal
							setTimeout(() => {
								modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
								document.querySelector('#productQuickView .modal-content').style.opacity = '1';
								document.querySelector('#productQuickView .modal-content').style.transform = 'translateY(0)';
							}, 100);
						} else {
							console.error('Sản phẩm không tìm thấy trong dữ liệu.');
						}
					})
					.catch(error => {
						console.error('Lỗi khi lấy dữ liệu từ file JSON:', error);
					});
			}

			// Đóng popup khi click nút đóng hoặc bên ngoài modal
			function closeModal() {
				document.querySelector('#productQuickView .modal-content').style.opacity = '0';
				document.querySelector('#productQuickView .modal-content').style.transform = 'translateY(-30px)';
				document.getElementById('productQuickView').style.backgroundColor = 'rgba(0,0,0,0)';

				// Khôi phục scroll trên body
				document.body.style.removeProperty('overflow');
				document.body.style.removeProperty('position');
				document.body.style.removeProperty('top');
				document.body.style.removeProperty('width');

				// Khôi phục vị trí scroll
				if (isModalOpen) {
					window.scrollTo(0, scrollPosition);
					isModalOpen = false;
				}

				setTimeout(() => {
					document.getElementById('productQuickView').style.display = 'none';
					document.getElementById("form-quick-view").reset();
				}, 500);
			}

			document.getElementById('close').addEventListener('click', closeModal);
			window.addEventListener('click', function (event) {
				if (event.target === document.getElementById('productQuickView')) {
					closeModal();
				}
			});

			// Xử lý sự kiện thêm vào giỏ hàng để đóng modal và khôi phục scroll
			document.getElementById('AddToCardQuickView').addEventListener('click', function () {
				// Đóng modal và khôi phục scroll sau khi thêm vào giỏ
				setTimeout(() => {
					// Khôi phục scroll trên body
					document.body.style.removeProperty('overflow');
					document.body.style.removeProperty('position');
					document.body.style.removeProperty('top');
					document.body.style.removeProperty('width');

					// Khôi phục vị trí scroll
					if (isModalOpen) {
						window.scrollTo(0, scrollPosition);
						isModalOpen = false;
					}
				}, 100);
			});
		});
	</script>

	<footer>
		<div class="footer-top">
			<div class="footer-top-overlay"></div>
			<div class="wrapper">
				<div class="inner">
					<div class="grid-uniform">
						<div class="grid__item large--three-twelfths medium--one-half small--one-whole">
							<div class="ft-contact">

								<div class="ft-contact-logo text-center">
									<a href="../index.html"><img
											src="../../theme.hstatic.net/1000313040/1000406925/14/logo_ftee64.png"
											alt="Bánh Mì Chảo Thương Nhớ"></a>
								</div>

								<div class="ft-contact-address">
									<i class="fa fa-home" aria-hidden="true"></i> Số 100 Phạm Huy Thông, P. Ngọc Khánh,
									Q.
									Ba Đình, TP. Hà Nội
								</div>
								<div class="ft-contact-tel">
									<i class="fa fa-mobile" aria-hidden="true"></i> <a
										href="tel:0931387046">0931387046</a>
								</div>
								<div class="ft-contact-email">
									<i class="fa fa-envelope" aria-hidden="true"></i> <a
										href="mailto:banhmichaothuongnho@gmail.com">banhmichaothuongnho@gmail.com</a>
								</div>
							</div>
						</div>

						<div class="grid__item large--three-twelfths medium--one-half small--one-whole">
							<div class="ft-menu">
								<h4>Chính sách</h4>
								<ul class="no-bullets">


									<li><a href="./../pages/chinh-sach-va-quy-dinh-chung.html">Chính sách và quy định
											chung</a></li>

									<li><a href="./../pages/chinh-sach-giao-dich-thanh-toan.html">Chính sách giao dịch,
											thanh toán</a></li>

									<li><a href="./../pages/chinh-sach-doi-tra.html">Chính sách đổi trả</a></li>

									<li><a href="./../pages/chinh-sach-bao-mat.html">Chính sách bảo mật</a></li>

									<li><a href="./../pages/chinh-sach-van-chuyen.html">Chính sách vận chuyển</a></li>

								</ul>
							</div>
						</div>

						<div class="grid__item large--three-twelfths medium--one-half small--one-whole">
							<div class="ft-subscribe-wrapper">
								<h4>Bánh Mì Chảo Thương Nhớ</h4>
								<div class="ft-subscribe">
									<div id="company-info"></div>

									<form accept-charset="UTF-8" action="./../pages/he-thong-cua-hang.html"
										class="contact-form" method="post" name="myForm" onsubmit="validateForm()">
										<input name="form_type" type="hidden" value="customer">
										<input name="utf8" type="hidden" value="✓">



										<div class="input-group">
											<input type="email" required value="" placeholder="Nhập email của bạn..."
												name="contact[email]" id="Email" class="input-group-field"
												aria-label="email@example.com">
											<input type="hidden" name="contact[tags]" value="newsletter">
											<span class="input-group-btn">
												<button type="submit" name="subscribe" id="subscribe" value="GỬI"><i
														class="fa fa-paper-plane" aria-hidden="true"></i></button>
											</span>
										</div>

									</form>

								</div>
							</div>
							<div class="ft-social-network">

								<a href="https://www.facebook.com/profile.php?id=100067891252186" target="_blank"><i
										class="fa fa-facebook" aria-hidden="true"></i></a>



								<a href="https://www.facebook.com/profile.php?id=100067891252186" target="_blank"><i
										class="fa fa-instagram" aria-hidden="true"></i></a>


								<a href="#" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i></a>


								<a href="https://www.youtube.com/" target="_blank"><i class="fa fa-youtube"
										aria-hidden="true"></i></a>

							</div>
						</div>

						<div class="grid__item large--three-twelfths medium--one-half small--one-whole">
							<h4>🎉 Mỗi thứ ba hàng tuần, chúng tôi dành tặng các combo ưu đãi đặc biệt như lời tri ân
								đến khách hàng. liên hệ ngay với chúng tôi để chúng tôi được phục vụ bạn!</h4>
							<div id="owl-home-main-banners-slider-ft" class="owl-carousel owl-theme">
								<!-- hình ảnh đã thông báo bộ công thương -->
								<div class="item">
									<div class="ft-img">
										<a href="../../theme.hstatic.net/1000313040/1000406925/14/hg_img1ee64.png"
											data-fancybox="home-gallery-images" data-caption=""><img
												src="../../theme.hstatic.net/1000313040/1000406925/14/hg_img_thumb1ee64.png"
												alt="" /></a>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="wrapper">
				<div class="inner">
					<div class="grid">
						<div class="grid__item large--six-twelfths medium--one-whole small--one-whole pull-right">
							<div class="ft-copyright-menu text-right">
								<ul class="no-bullets">


								</ul>
							</div>
						</div>
						<div class="grid__item large--six-twelfths medium--one-whole small--one-whole">
							<div class="ft-copyright">
								Copyrights © 2018 by <a target="_blank" href="../index.html">Bánh Mì
									Chảo Thương Nhớ</a>.
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<div id="back-to-top" class="text-center medium--hide small--hide">
		<i class="fa fa-angle-up" aria-hidden="true"></i>
	</div>


	<script src='../../hstatic.net/0/0/global/api.jquery.js' type='text/javascript'></script>

	<script src='../../hstatic.net/0/0/global/option_selection.js' type='text/javascript'></script>

	<script src='../../theme.hstatic.net/1000313040/1000406925/14/fastclick.minee64.js' type='text/javascript'></script>
	<script src='../../theme.hstatic.net/1000313040/1000406925/14/suplo-fnee64.js' type='text/javascript'></script>
	<script src='../../theme.hstatic.net/1000313040/1000406925/14/scriptee64.js' type='text/javascript'></script>
	<script src='../../theme.hstatic.net/1000313040/1000406925/14/timberee64.js' type='text/javascript'></script>

	<link rel="stylesheet" href="../../cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
	<script src="../../cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>

	<script src='../../theme.hstatic.net/1000313040/1000406925/14/handlebars.minee64.js'
		type='text/javascript'></script>
	<!-- /snippets/ajax-cart-template.liquid -->

	<script id="AjaxQty" type="text/template">

	<div class="ajaxcart__qty">
		<button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--minus icon-fallback-text" data-id="{{key}}" data-qty="{{itemMinus}}">
			<span class="icon icon-minus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">&minus;</span>
			<span class="visually-hidden">Giảm số lượng sản phẩm đi 1</span>
		</button>
		<input type="text" class="ajaxcart__qty-num" value="{{itemQty}}" min="0" data-id="{{key}}" aria-label="quantity" pattern="[0-9]*">
		<button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--plus icon-fallback-text" data-id="{{key}}" data-qty="{{itemAdd}}">
			<span class="icon icon-plus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">+</span>
			<span class="visually-hidden">Tăng số lượng sản phẩm lên 1</span>
		</button>
	</div>
	
</script>
	<script id="JsQty" type="text/template">

	<div class="js-qty">
		<button type="button" class="js-qty__adjust js-qty__adjust--minus icon-fallback-text" data-id="{{key}}" data-qty="{{itemMinus}}">
			<span class="icon icon-minus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">&minus;</span>
			<span class="visually-hidden">Giảm số lượng sản phẩm đi 1</span>
		</button>
		<input type="text" class="js-qty__num" value="{{itemQty}}" min="1" data-id="{{key}}" aria-label="quantity" pattern="[0-9]*" name="{{inputName}}" id="{{inputId}}">
		<button type="button" class="js-qty__adjust js-qty__adjust--plus icon-fallback-text" data-id="{{key}}" data-qty="{{itemAdd}}">
			<span class="icon icon-plus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">+</span>
			<span class="visually-hidden">Tăng số lượng sản phẩm lên 1</span>
		</button>
	</div>
	
</script>

	<script src='../../theme.hstatic.net/1000313040/1000406925/14/ajax-cartee64.js' type='text/javascript'></script>
	<script>
		jQuery(function ($) {
			ajaxCart.init({
				formSelector: '#AddToCartForm',
				cartContainer: '#CartContainer',
				addToCartSelector: '#AddToCart',
				cartCountSelector: '#CartCount',
				cartCostSelector: '#CartCost',
				moneyFormat: "{{amount}}₫"
			});
		});

		jQuery(document.body).on('afterCartLoad.ajaxCart', function (evt, cart) {
			// Bind to 'afterCartLoad.ajaxCart' to run any javascript after the cart has loaded in the DOM
			timber.RightDrawer.open();
		});
	</script>

	<!-- Push sản phẩm lên localSession và hiển thị trên giỏ hàng-->

	<script>
		var localCart = (function (module, $) {

			'use strict';

			// Public functions
			var init, addItem, loadCart, removeItem, updateCartDisplay, removeTopping;

			// Private variables
			var settings, $cartContainer, $cartCount, $cartTotal;

			/*============================================================================
			  Khởi tạo giỏ hàng và thiết lập biến
			==============================================================================*/
			init = function (options) {
				settings = {
					cartContainer: '#CartContainer',
					cartCount: '#CartCount',
					cartTotal: '#CartTotal',
					moneyFormat: '{{amount}}₫'
				};

				$.extend(settings, options);

				// Lấy phần tử HTML
				$cartContainer = $(settings.cartContainer);
				$cartCount = $(settings.cartCount);
				$cartTotal = $(settings.cartTotal);

				// Load giỏ hàng từ localStorage
				loadCart();

				// Lắng nghe sự kiện thêm sản phẩm
				$(document).on('click', '#AddToCardQuickView', function (event) {
					event.preventDefault();
					addItem();
				});

				// Lắng nghe sự kiện xóa sản phẩm
				$(document).on('click', '.remove-item', function () {
					var index = $(this).data('index');
					removeItem(index);
				});

				// Lắng nghe sự kiện xóa topping
				$(document).on('click', '.remove-topping', function () {
					var itemIndex = $(this).data('item-index');
					var toppingIndex = $(this).data('topping-index');
					removeTopping(itemIndex, toppingIndex);
				});
			};

			/*============================================================================
			  Thêm sản phẩm vào giỏ hàng
			==============================================================================*/
			addItem = function () {
				let productName = $('#productQuickView .modal-title').text().trim();
				let productImage = $('#productQuickView #p-product-image-feature').attr('src');
				let productSku = $('#ProductSku').text().trim();
				let productPrice = extractPrice($('#productQuickView .p-price').text());
				let productQuantity = parseInt($('#productQuickView input[name="quantity"]').val()) || 1;

				let selectedToppings = [];
				$('#productQuickView .swatch-element').each(function () {
					let input = $(this).find('input.input-quickview');
					let isSelected = input.next().hasClass('sd'); // Kiểm tra nếu topping đang được chọn
					let toppingQuantity = parseInt($(this).find('.topping-count').text()) || 0;

					// Chỉ thêm vào nếu topping được chọn HOẶC có số lượng > 0 và người dùng đã chọn nó
					if (isSelected || (toppingQuantity > 0 && input.is(':checked'))) {
						let toppingName = $(this).find('.topping-name').text().trim();
						let toppingPrice = extractPrice($(this).find('.topping-price').text());
						selectedToppings.push({ toppingName, toppingPrice, toppingQuantity });
					}
				});

				let cart = JSON.parse(localStorage.getItem('cart')) || [];
				cart.push({
					productName,
					productImage,
					productSku,
					productPrice,
					productQuantity,
					selectedToppings
				});

				localStorage.setItem('cart', JSON.stringify(cart));
				updateCartDisplay();

				// Đóng popup sau khi thêm vào giỏ hàng
				$('#productQuickView').fadeOut();

				// Hiển thị giỏ hàng trượt ra từ bên phải
				jQuery(document.body).trigger('afterCartLoad.ajaxCart', [cart]);
			};

			/*============================================================================
			  Hiển thị giỏ hàng lên giao diện
			==============================================================================*/
			updateCartDisplay = function () {
				let cart = JSON.parse(localStorage.getItem('cart')) || [];
				let cartHtml = '';
				let totalCost = 0;

				if (cart.length === 0) {
					cartHtml = '<p>Giỏ hàng trống!</p>' +
						'<p>Xem thêm những món ngon <a href="../" style="color: red; text-decoration: underline;">tại đây</a></p>';

				} else {
					cart.forEach((item, index) => {
						// Tính tổng giá topping
						let toppingsHtml = '';
						let toppingsTotal = 0;

						if (item.selectedToppings && item.selectedToppings.length > 0) {
							toppingsHtml = '<ul>';
							item.selectedToppings.forEach((topping, toppingIndex) => {
								let toppingCost = topping.toppingPrice * topping.toppingQuantity;
								toppingsTotal += toppingCost;
								toppingsHtml += `<li>
						${topping.toppingName} (${topping.toppingQuantity}) - ${formatMoney(toppingCost)}
						<button class="remove-topping" data-item-index="${index}" data-topping-index="${toppingIndex}" style="color: red; margin-left: 5px; border: none; background: none; cursor: pointer;">Xóa</button>
					</li>`;
							});
							toppingsHtml += '</ul>';
						}

						// Sử dụng baseProductPrice nếu có, ngược lại tính từ productPrice
						let basePrice = item.baseProductPrice || (item.productPrice - toppingsTotal);

						// Tính tổng giá của sản phẩm: giá cơ bản * số lượng + giá topping
						let itemTotal = (basePrice * item.productQuantity) + toppingsTotal;
						totalCost += itemTotal;
						cartHtml += `
			<div class="cart-item">
				<img src="${normalizeImagePath(item.productImage) || '//theme.hstatic.net/1000313040/1000406925/14/logobmc_big.png'}" alt="${item.productName}" class="cart-img">
				<div class="cart-info">
					<strong>${item.productName}</strong> - ${formatMoney(basePrice)}
					<p>Số lượng: ${item.productQuantity}</p>
					${toppingsHtml}
					<p><strong>Tổng: ${formatMoney(itemTotal)}</strong></p>
					<button class="remove-item" data-index="${index}" style="color: red;">Xóa</button>
					<p></p>
				</div>
			</div>
			`;
					});

					// Thêm tổng tiền & nút đặt hàng
					cartHtml += `
			<div class="cart-summary">
				<p class="total-cost"><strong>Tổng Giá:</strong> ${formatMoney(totalCost)}</p>
				<a href="../cart.html" class="order-button btn--secondary btn--full">Đặt hàng</a>
			</div>
		`;
				}

				$cartContainer.html(cartHtml);
				$cartTotal.html(formatMoney(totalCost));
				$cartCount.text(cart.length);
			};

			/*============================================================================
			  Xóa sản phẩm khỏi giỏ hàng
			==============================================================================*/
			removeItem = function (index) {
				let cart = JSON.parse(localStorage.getItem('cart')) || [];
				cart.splice(index, 1);
				localStorage.setItem('cart', JSON.stringify(cart));
				updateCartDisplay();
			};

			function normalizeImagePath(path) {
				if (path.includes('bmcthuongnho900x900.png')) {
					return '../image_food/bmcthuongnho900x900.png';
				}
				return path;
			}
			/*============================================================================
			  Xóa topping khỏi sản phẩm trong giỏ hàng
			==============================================================================*/
			removeTopping = function (itemIndex, toppingIndex) {
				let cart = JSON.parse(localStorage.getItem('cart')) || [];

				if (cart[itemIndex] && cart[itemIndex].selectedToppings) {
					// Lấy thông tin về topping cần xóa
					let topping = cart[itemIndex].selectedToppings[toppingIndex];

					if (topping) {
						// Trừ giá topping khỏi tổng giá sản phẩm
						let toppingCost = topping.toppingPrice * topping.toppingQuantity;
						cart[itemIndex].productPrice -= toppingCost;

						// Xóa topping khỏi danh sách
						cart[itemIndex].selectedToppings.splice(toppingIndex, 1);

						// Lưu lại vào localStorage
						localStorage.setItem('cart', JSON.stringify(cart));

						// Cập nhật hiển thị giỏ hàng
						updateCartDisplay();
					}
				}
			};

			/*============================================================================
			  Load giỏ hàng khi trang tải lại
			==============================================================================*/
			loadCart = function () {
				updateCartDisplay();
			};

			/*============================================================================
			  Hàm hỗ trợ định dạng tiền tệ
			==============================================================================*/
			function extractPrice(priceString) {
				return parseInt(priceString.replace(/[^0-9]/g, ""), 10) || 0;
			}

			function formatMoney(amount) {
				return amount.toLocaleString() + '₫';
			}

			/*============================================================================
			  Xuất module
			==============================================================================*/
			module = {
				init: init
			};

			return module;

		}(localCart || {}, jQuery));

		/*============================================================================
		Khởi tạo giỏ hàng khi tài liệu tải xong
		==============================================================================*/
		jQuery(function ($) {
			localCart.init();
		});
	</script>

	<style>
		.total-cost {
			color: rgb(51, 255, 0);
			font-weight: bold;
			font-size: 18px;
		}
	</style>
	<!-- Validate quantity form & trigger zoom -->
	<script>
		$("document").ready(function () {

			$(".checkout_btn_2").on("click", function () {
				alert('a');
				event.preventDefault();
				var checked = $('textarea#CartSpecialInstructions').val();
				if (checked == '') {
					alert('Bạn chưa điền thông tin vào chú thích cho chủ cửa hàng !');
				} else {
					window.location = '../cart.html';
				}

			});


			$(function () {
				$(".js-qty__num").keypress(function (event) {
					if (event.which != 8 && event.which != 0 && (event.which < 48 || event.which > 57)) {
						return false;
					}
				});
			});
			if ($(window).width() > 768) {
				setTimeout(function () {
					$("#ProductThumbs .thumbnail-item:first-child a").trigger('click');
				}, 10);
			};
		});
	</script>

	<script>
		$(document).ready(function () {
			$().fancybox({
				thumbs: true,
				hash: false,
				loop: true,
			});
		});
	</script>

	<!-- Main slider video bg -->

	<script>
		jQuery(document).ready(function () {


			document.addEventListener('DOMContentLoaded', function () {
				// Tìm form chứa input email
				const form = document.querySelector('form.contact-form');

				if (form) {
					form.addEventListener('submit', function (event) {
						// Ngăn form gửi đi ngay lập tức
						event.preventDefault();

						// Lấy giá trị email và loại bỏ khoảng trắng
						const emailInput = document.getElementById('Email');
						const email = emailInput.value.trim();

						// Biểu thức chính quy đơn giản để kiểm tra email
						const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

						if (email === '') {
							alert('Vui lòng nhập địa chỉ email.');
							emailInput.focus();
							return;
						}

						if (!emailRegex.test(email)) {
							alert('Địa chỉ email không hợp lệ. Vui lòng kiểm tra lại.');
							emailInput.focus();
							return;
						}

						// Nếu email hợp lệ, tiếp tục gửi form
						form.submit();
					});
				}
			});

			var offset = 220;
			var duration = 500;
			jQuery(window).scroll(function () {
				if (jQuery(this).scrollTop() > offset) {
					jQuery('#back-to-top').fadeIn(duration);
				} else {
					jQuery('#back-to-top').fadeOut(duration);
				}
			});

			jQuery('#back-to-top').click(function (event) {
				event.preventDefault();
				jQuery('html, body').animate({
					scrollTop: 0
				}, duration);
				return false;
			})
		});

		window.onscroll = changePos;

		function changePos() {
			var header = $("#header");
			var headerheight = $("#header").height();
			if (window.pageYOffset > headerheight) {
				header.addClass('sticky-header');
			} else {
				header.removeClass('sticky-header');
			}
		}

	</script>

	<script>
		$(document).ready(function () {
			var acc = document.getElementsByClassName("accordion");
			var i;

			for (i = 0; i < acc.length; i++) {
				acc[i].onclick = function () {
					this.classList.toggle("active");
					var panel = this.nextElementSibling;
					if (panel.style.maxHeight) {
						panel.style.maxHeight = null;
					} else {
						panel.style.maxHeight = panel.scrollHeight + "px";
					}
				}
			}
			if ($(window).width() > 769) {
				$('.accordion').trigger('click');
			}
		});
	</script>


	<script>
		function openTab(evt, tabName) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(" active", "");
			}
			document.getElementById(tabName).style.display = "block";
			evt.currentTarget.className += " active";
		}

		// Get the element with id="defaultOpen" and click on it
		//document.getElementById("defaultOpen").click();
	</script>

	<!---------------quick view --------------->

	<style>
		.modal {
			display: none;
			position: fixed;
			z-index: 99999;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			overflow-x: hidden;
			overflow-y: auto;
			/* Cho phép cuộn nội dung trong modal */
			background-color: rgb(0, 0, 0);
			background-color: rgba(0, 0, 0, 0.4);
			transition: all .5s;
			-webkit-overflow-scrolling: touch;
			/* Tối ưu cuộn mượt cho iOS */
		}

		.modal-content {
			background-color: #fefefe;
			margin: 5% auto;
			padding: 20px;
			border: 1px solid #888;
			width: 80%;
			max-width: 780px;
			transform: translatey(-30px);
			transition: all .5s;
			position: relative;
			max-height: 90vh;
			/* Giới hạn chiều cao tối đa */
			overflow-y: auto;
			/* Cho phép cuộn nếu nội dung quá cao */
		}

		@media screen and (max-width: 767px) {
			.modal-content {
				width: 90%;
				margin: 5% auto;
				padding: 15px;
				max-height: 85vh;
			}

			/* Cải tiến giao diện form trong modal cho mobile */
			#form-quick-view {
				display: flex;
				flex-direction: column;
			}

			#form-quick-view .grid__item {
				width: 100%;
			}

			/* Điều chỉnh kích thước hình ảnh */
			.image-zoom {
				max-height: 300px;
				overflow: hidden;
			}

			.p-product-image-feature {
				max-width: 100%;
				height: auto;
			}
		}

		.close {
			color: #aaa;
			font-size: 28px;
			font-weight: bold;
			position: absolute;
			right: 0;
			top: 0;
			width: 40px;
			text-align: center;
			z-index: 10;
			/* Đảm bảo nút đóng luôn hiển thị phía trên */
		}

		.close:hover,
		.close:focus {
			color: black;
			text-decoration: none;
			cursor: pointer;
		}
	</style>


	<script>
		$(document).ready(function () {
			$("#home-main-slider").owlCarousel({
				items: 1,
				itemsDesktop: [1000, 1],
				itemsDesktopSmall: [900, 1],
				itemsTablet: [600, 1],
				itemsMobile: false,
				navigation: false,
				pagination: true,
				slideSpeed: 300,
				autoPlay: true,
				paginationSpeed: 400,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});
			$("#home-main-slidermb").owlCarousel({
				items: 1,
				itemsDesktop: [1000, 1],
				itemsDesktopSmall: [900, 1],
				itemsTablet: [600, 1],
				itemsMobile: false,
				navigation: false,
				pagination: true,
				slideSpeed: 300,
				autoPlay: true,
				paginationSpeed: 400,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});
			$(".owl-home-main-banners-slider-pd").owlCarousel({
				items: 4,
				itemsDesktop: [1000, 4],
				itemsDesktopSmall: [900, 2],
				itemsTablet: [600, 2],
				itemsMobile: false,
				navigation: false,
				pagination: false,
				slideSpeed: 300,
				paginationSpeed: 400,
				autoPlay: 5000,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});
			$("#related-products-slider").owlCarousel({
				items: 4,
				itemsDesktop: [1000, 4],
				itemsDesktopSmall: [900, 4],
				itemsTablet: [768, 4],
				itemsMobile: [480, 2],
				navigation: true,
				pagination: false,
				slideSpeed: 300,
				paginationSpeed: 400,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});
			$("#owl-home-main-banners-slider-art").owlCarousel({
				items: 3,
				itemsDesktop: [1000, 3],
				itemsDesktopSmall: [900, 3],
				itemsTablet: [768, 2],
				itemsMobile: [480, 1],
				navigation: true,
				pagination: false,
				slideSpeed: 300,
				paginationSpeed: 400,
				autoPlay: 5000,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});

			$("#owl-home-main-banners-slider-ft").owlCarousel({
				items: 1,
				itemsDesktop: [1000, 1],
				itemsDesktopSmall: [900, 1],
				itemsTablet: [600, 1],
				itemsMobile: false,
				navigation: false,
				pagination: true,
				slideSpeed: 300,
				paginationSpeed: 400,
				autoPlay: 5000,
				navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
			});
		});
	</script>
	<!-- 2. Script để tự động cập nhật danh mục -->
	<script>
		// Thêm function để load và render danh mục bên sidebar
		function loadSidebarCategories() {
			// Sử dụng cùng URL với các hàm load menu khác
			fetch('../products/getData.php?file=menu-data')
				.then(response => {
					if (!response.ok) {
						throw new Error('Không thể tải dữ liệu danh mục');
					}
					return response.json();
				})
				.then(data => {
					renderSidebarCategories(data.categories);
				})
				.catch(error => {
					console.error('Lỗi khi tải dữ liệu danh mục sidebar:', error);
				});
		}

		// Hàm render danh mục vào sidebar
		function renderSidebarCategories(categories) {
			// Tìm phần tử HTML danh mục menu
			const categoryContainer = document.querySelector('.collection-categories .panel ul.no-bullets');

			// Kiểm tra xem phần tử có tồn tại không
			if (!categoryContainer) {
				console.error('Không tìm thấy phần tử danh mục menu trong sidebar');
				return;
			}

			// Xóa nội dung cũ
			categoryContainer.innerHTML = '';

			// Thêm danh mục mới từ dữ liệu JSON
			categories.forEach(category => {
				const li = document.createElement('li');

				const a = document.createElement('a');
				a.href = category.url;
				a.textContent = category.name;

				li.appendChild(a);
				categoryContainer.appendChild(li);
			});
		}

		// Gọi hàm load danh mục khi trang đã tải xong
		document.addEventListener('DOMContentLoaded', function () {
			// Thực hiện load danh mục sidebar
			loadSidebarCategories();
		});
	</script>
	<!-- Load Facebook SDK for JavaScript -->
	<style>
		/* CSS cho nút hỗ trợ chính */
		.support-button {
			position: fixed;
			bottom: 40px;
			right: 20px;
			z-index: 999999999;
			display: flex;
			align-items: center;
			justify-content: center;
			width: 60px;
			height: 60px;
			background-color: #0f75bc;
			border-radius: 50%;
			color: white;
			cursor: move;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
			transition: all 0.3s ease;
		}

		.support-button:hover {
			transform: scale(1.1);
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
		}

		.support-button i {
			font-size: 24px;
		}

		/* Hiệu ứng pulse */
		.support-button::before {
			content: '';
			position: absolute;
			width: 100%;
			height: 100%;
			border-radius: 50%;
			background-color: #0f75bc;
			opacity: 0.7;
			animation: pulse 1.5s infinite;
			z-index: -1;
		}

		@-webkit-keyframes pulse {
			0% {
				-webkit-transform: scale(0.9);
				-moz-transform: scale(0.9);
				-ms-transform: scale(0.9);
				transform: scale(0.9);
			}

			70% {
				-webkit-transform: scale(1);
				-moz-transform: scale(1);
				-ms-transform: scale(1);
				transform: scale(1);
				box-shadow: 0 0 0 50px rgba(15, 117, 188, 0);
			}

			100% {
				-webkit-transform: scale(0.9);
				-moz-transform: scale(0.9);
				-ms-transform: scale(0.9);
				transform: scale(0.9);
				box-shadow: 0 0 0 0 rgba(15, 117, 188, 0);
			}
		}

		/* Menu tùy chọn - với background mờ và chiều rộng động */
		.support-options {
			position: absolute;
			bottom: 75px;
			right: 0;
			display: none;
			flex-direction: column;
			gap: 15px;
			width: 100px;
			/* Chỉ đủ rộng cho icon ban đầu */
			background-color: rgba(255, 255, 255, 0.5);
			/* Background mờ 50% */
			border-radius: 15px;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
			padding: 15px;
			transition: all 0.3s ease;
			overflow: visible;
			/* Cho phép con bên trong vượt ra ngoài */
		}

		.support-options.visible {
			display: flex;
		}

		/* Tùy chọn với hiệu ứng hover mở rộng - áp dụng cho cả Messenger, Hotline và Zalo */
		.expandable-option {
			position: relative;
			display: flex;
			align-items: center;
			width: 60px;
			border-radius: 50%;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
			transition: all .3s;
			cursor: pointer;
			background: rgba(255, 255, 255, 0.9);
			height: 60px;
			margin-left: auto;
			margin-right: auto;
			overflow: hidden;
			z-index: 1;
		}

		.expandable-option .icon-container {
			display: inline-block;
			text-align: center;
			width: 60px;
			font-size: 24px;
			line-height: 60px;
			border-radius: 50%;
			box-shadow: 0 0 0 0 rgba(15, 117, 188, 0.3);
			-webkit-animation: pulse 1.5s infinite;
			transition: all .3s;
			z-index: 2;
		}

		/* Màu cho icon Messenger */
		.expandable-option.messenger-option .icon-container {
			background: #0084FF;
			color: #ffffff;
		}

		/* Màu cho icon Hotline */
		.expandable-option.hotline-option .icon-container {
			background: #0f75bc;
			color: #ffffff;
		}

		/* Màu cho icon Zalo */
		.expandable-option.zalo-option .icon-container {
			background: #0068ff;
			color: #ffffff;
		}

		.expandable-option .text-container {
			display: inline-block;
			width: 0px;
			height: 60px;
			transition: all .3s;
			overflow: hidden;
			text-align: center;
			z-index: 1;
		}

		.expandable-option .text-container span {
			display: block;
			margin: auto;
			line-height: 60px;
			font-size: 16px;
			width: 100%;
			font-weight: bold;
			color: #2c394c;
		}

		/* Mở rộng khi hover */
		.expandable-option:hover {
			width: 200px;
			border-radius: 40px;
		}

		/* Thay đổi container cha khi con hover */
		.expandable-option:hover~.expandable-option,
		.expandable-option:hover {
			z-index: 10;
		}

		/* Mở rộng container cha khi các con hover */
		.support-options:has(.expandable-option:hover) {
			width: 210px;
			/* Đủ rộng cho phần mở rộng */
			background-color: rgba(255, 255, 255, 0.5);
			/* Giữ nguyên độ mờ */
		}

		.expandable-option:hover .icon-container {
			-webkit-animation: none;
			border-radius: 4px;
		}

		.expandable-option:hover .text-container {
			width: calc(100% - 60px);
		}

		.expandable-option.messenger-option:hover .text-container span {
			color: #0084FF;
		}

		.expandable-option.hotline-option:hover .text-container span {
			color: #0f75bc;
		}

		.expandable-option.zalo-option:hover .text-container span {
			color: #0068ff;
		}
	</style>

	<div id="supportButton" class="support-button">
		<i class="fa fa-comments"></i>

		<div class="support-options" id="supportOptions">
			<!-- Messenger với hiệu ứng hover mở rộng -->
			<div class="expandable-option messenger-option" id="messengerOption">
				<div class="icon-container">
					<img src="https://cdn-icons-png.flaticon.com/512/5968/5968771.png" alt="Messenger" width="60"
						height="60">
				</div>
				<div class="text-container">
					<span>Chat Messenger</span>
				</div>
			</div>

			<!-- Zalo với hiệu ứng hover mở rộng -->
			<div class="expandable-option zalo-option" id="zaloOption">
				<div class="icon-container">
					<img src="https://stc-zaloprofile.zdn.vn/pc/v1/images/zalo_sharelogo.png" alt="Zalo" width="60"
						height="60" style="margin-top: 12px;">
				</div>
				<div class="text-container">
					<span>Chat Zalo</span>
				</div>
			</div>


			<!-- Hotline với hiệu ứng hover mở rộng -->
			<div class="expandable-option hotline-option" id="hotlineOption">
				<div class="icon-container">
					<i class="fa fa-phone"></i>
				</div>
				<div class="text-container">
					<span>093 1387 046</span>
				</div>
			</div>
		</div>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			// Lấy các phần tử DOM
			const supportButton = document.getElementById('supportButton');
			const supportOptions = document.getElementById('supportOptions');
			const messengerOption = document.getElementById('messengerOption');
			const zaloOption = document.getElementById('zaloOption');
			const hotlineOption = document.getElementById('hotlineOption');

			// Biến để theo dõi trạng thái
			let isMenuOpen = false;
			let isDragging = false;
			let wasDragging = false;
			let initialX, initialY;
			let offsetX = 0, offsetY = 0;
			let startTime = 0;

			// Lấy vị trí đã lưu từ localStorage
			const savedKey = 'supportButtonPosition';
			const savedPosition = localStorage.getItem(savedKey);

			// Nếu có vị trí đã lưu, áp dụng nó
			if (savedPosition) {
				try {
					const position = JSON.parse(savedPosition);
					supportButton.style.left = position.x + 'px';
					supportButton.style.top = position.y + 'px';
					supportButton.style.right = 'auto';
					supportButton.style.bottom = 'auto';
				} catch (e) {
					console.error('Error parsing saved position', e);
				}
			}

			// Xử lý sự kiện click cho nút hỗ trợ
			supportButton.addEventListener('click', function (e) {
				// Nếu không kéo thả, mở hoặc đóng menu
				if (!wasDragging) {
					isMenuOpen = !isMenuOpen;
					if (isMenuOpen) {
						supportOptions.classList.add('visible');
					} else {
						supportOptions.classList.remove('visible');
					}
				}
			});

			// Xử lý sự kiện click cho tùy chọn Messenger
			messengerOption.addEventListener('click', function (e) {
				e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
				window.open('https://m.me/112531760938142', '_blank');
				// Đóng menu sau khi chọn
				isMenuOpen = false;
				supportOptions.classList.remove('visible');
			});

			// Xử lý sự kiện click cho tùy chọn Zalo
			zaloOption.addEventListener('click', function (e) {
				e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
				window.open('https://zalo.me/0931387046', '_blank');
				// Đóng menu sau khi chọn
				isMenuOpen = false;
				supportOptions.classList.remove('visible');
			});

			// Xử lý sự kiện click cho tùy chọn Hotline
			hotlineOption.addEventListener('click', function (e) {
				e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
				window.location.href = 'tel:0931387046';
				// Đóng menu sau khi chọn
				isMenuOpen = false;
				supportOptions.classList.remove('visible');
			});

			// Đóng menu khi click ra ngoài
			document.addEventListener('click', function (e) {
				if (isMenuOpen && !supportButton.contains(e.target)) {
					isMenuOpen = false;
					supportOptions.classList.remove('visible');
				}
			});

			// Chức năng kéo thả
			supportButton.addEventListener('mousedown', dragStart);
			supportButton.addEventListener('touchstart', dragStart);

			function dragStart(e) {
				// Lưu thời gian bắt đầu để phân biệt giữa click và drag
				startTime = new Date().getTime();

				isDragging = true;
				wasDragging = false;

				// Lấy vị trí ban đầu
				initialX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
				initialY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

				// Lấy vị trí hiện tại của phần tử
				const rect = supportButton.getBoundingClientRect();
				offsetX = initialX - rect.left;
				offsetY = initialY - rect.top;

				// Thêm sự kiện di chuyển và kết thúc
				document.addEventListener('mousemove', dragMove);
				document.addEventListener('touchmove', dragMove, { passive: false });
				document.addEventListener('mouseup', dragEnd);
				document.addEventListener('touchend', dragEnd);
			}

			function dragMove(e) {
				if (!isDragging) return;

				// Nếu đã di chuyển, đánh dấu là đang kéo thả
				wasDragging = true;

				// Đóng menu khi kéo
				if (isMenuOpen) {
					isMenuOpen = false;
					supportOptions.classList.remove('visible');
				}

				// Ngăn chặn các hành động cuộn trang mặc định khi kéo
				if (e.type === 'touchmove') {
					e.preventDefault();
				}

				// Tính toán vị trí mới
				let clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
				let clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;

				// Cập nhật vị trí
				supportButton.style.right = 'auto';
				supportButton.style.bottom = 'auto';
				supportButton.style.left = (clientX - offsetX) + 'px';
				supportButton.style.top = (clientY - offsetY) + 'px';
			}

			function dragEnd(e) {
				if (!isDragging) return;

				// Tính thời gian đã trôi qua
				const endTime = new Date().getTime();
				const timeDiff = endTime - startTime;

				// Nếu đây là kéo thả (không phải click)
				if (wasDragging) {
					// Lưu vị trí mới
					const rect = supportButton.getBoundingClientRect();
					const position = {
						x: rect.left,
						y: rect.top
					};
					localStorage.setItem(savedKey, JSON.stringify(position));
				}

				// Reset trạng thái
				isDragging = false;

				// Sau một khoảng thời gian ngắn, reset wasDragging
				// Điều này cho phép click hoạt động sau khi kéo thả
				setTimeout(() => {
					wasDragging = false;
				}, 10);

				// Xóa các sự kiện
				document.removeEventListener('mousemove', dragMove);
				document.removeEventListener('touchmove', dragMove);
				document.removeEventListener('mouseup', dragEnd);
				document.removeEventListener('touchend', dragEnd);
			}
		});
	</script>

</body>

</html>
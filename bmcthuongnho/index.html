<!doctype html>
<html class="no-js" lang="vi">
<meta http-equiv="content-type" content="text/html;charset=utf-8" />

<head>
    <!-- Basic page needs ================================================== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta property="og:locale" content="vi_VN">
    <link rel="alternate" hreflang="x-default" href="../index.html">
    <link rel="alternate" hreflang="vi" href="../index.html">
    <meta name="revisit" content="1 days">
    <meta name="robots" content="index,follow">
    <meta name="facebook-domain-verification" content="5yv3hx7y65jfke76sjob6cx8n558r8" />
    <link rel="shortcut icon" href="../theme.hstatic.net/1000313040/1000406925/14/faviconee64.png" type="image/png" />
    <!-- Meta Pixel Code -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '1183122993099354');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=1183122993099354&ev=PageView&noscript=1" /></noscript>
    <!-- End Meta Pixel Code -->
    <!-- Title and description ================================================== -->
    <title>
        Bánh Mì Chảo Thương Nhớ
    </title>
    <meta property="og:type" content="website">
    <meta property="og:title" content="Bánh Mì Chảo Thương Nhớ">
    <!-- Meta Pixel Code -->
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return; n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = []; t = b.createElement(e); t.async = !0;
            t.src = v; s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '694234706407697');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=694234706407697&ev=PageView&noscript=1" /></noscript>
    <!-- End Meta Pixel Code -->
    <meta property="og:url" content="https://banhmichaothuongnho.com">
    <meta property="og:site_name" content="Bánh Mì Chảo Thương Nhớ">

    <meta name="twitter:site" content="@https://">
    <meta name="twitter:card" content="summary">

    <link rel="canonical" href="index.html">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="theme-color" content="#3d1a1a">
    <!-- CSS ================================================== -->
    <link href='../theme.hstatic.net/1000313040/1000406925/14/timber.scssee64.css' rel='stylesheet' type='text/css'
        media='all' />
    <link href='../theme.hstatic.net/1000313040/1000406925/14/check_outee64.css' rel='stylesheet' type='text/css'
        media='all' />
    <link href='../theme.hstatic.net/1000313040/1000406925/14/style-cafesuplo.scssee64.css' rel='stylesheet'
        type='text/css' media='all' />
    <link href='../theme.hstatic.net/1000313040/1000406925/14/owl.carouselee64.css' rel='stylesheet' type='text/css'
        media='all' />
    <link href='../theme.hstatic.net/1000313040/1000406925/14/owl.themeee64.css' rel='stylesheet' type='text/css'
        media='all' />
    <link href='../theme.hstatic.net/1000313040/1000406925/14/owl.transitionsee64.css' rel='stylesheet' type='text/css'
        media='all' />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <meta name="google-site-verification" content="1YCTpCogncSDl7UJaoD_Dgu3MOaGZ_p1SDwiMCKqT1Y" />
    <!-- đây là mã tải topuon của nút chat messenger -->
    <!-- <script>
        //<![CDATA[
        (function () { function asyncLoad() { var urls = ["//static.zotabox.com/8/e/8e0146041b53a5aa9a3f2884b5902454/widgets.js"]; for (var i = 0; i < urls.length; i++) { var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = urls[i]; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } } window.attachEvent ? window.attachEvent('onload', asyncLoad) : window.addEventListener('load', asyncLoad, false); })();
        //]]>
    </script> -->

    <script src='../ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js' type='text/javascript'></script>
    <script src='../theme.hstatic.net/1000313040/1000406925/14/modernizr.minee64.js' type='text/javascript'></script>
    <script src='../theme.hstatic.net/1000313040/1000406925/14/owl.carousel.minee64.js' type='text/javascript'></script>

</head>

<body id="banhmichaothuongnho" class="template-collection">



    <div id="NavDrawer" class="drawer drawer--left">
        <div class="drawer__header">
            <div class="drawer__title h3"><img src="../theme.hstatic.net/1000313040/1000406925/14/logoee64.png"
                    alt="Bánh Mì Chảo Thương Nhớ" /></div>
            <div class="drawer__close js-drawer-close">
                <button type="button" class="icon-fallback-text">
                    <span class="icon icon-x" aria-hidden="true"></span>
                    <span class="fallback-text">Đóng</span>
                </button>
            </div>
        </div>
        <!-- begin mobile-nav -->
        <ul class="mobile-nav">
            <li class="mobile-nav__item mobile-nav__search">
                <form action="./collections/search.html" method="get" class="input-group search-bar home-search-bar"
                    role="search">
                    <input type="hidden" name="type" value="product">
                    <input type="search" name="q" value="" placeholder="Tìm kiếm..." class="input-group-field"
                        aria-label="Tìm kiếm...">
                    <span class="input-group-btn">
                        <button type="submit" class="btn icon-fallback-text">
                            <span class="icon icon-search" aria-hidden="true"></span>
                            <span class="fallback-text">Tìm kiếm</span>
                        </button>
                    </span>
                </form>

            </li>


        </ul>
        <!-- //mobile-nav -->
    </div>


    <div id="CartDrawer" class="drawer drawer--right">
        <div class="drawer__header">
            <div class="drawer__title h3">Giỏ hàng</div>
            <div class="drawer__close js-drawer-close">
                <button type="button" class="icon-fallback-text">
                    <span class="icon icon-x" aria-hidden="true"></span>
                    <span class="fallback-text">"Đóng"</span>
                </button>
            </div>
        </div>
        <div id="CartContainer"></div>
    </div>
    <div class="cart-overlay"></div>


    <header class="medium-down--hide">
        <div id="site-header" class="medium-down--hide ">
            <div class="wrapper">
                <div class="inner">
                    <div class="grid mg-left-15">
                        <div class="grid__item large--one-twelfth pd-left0">
                            <div class="hd-logo">



                                <a href="index.html">
                                    <img class="avata" src="../theme.hstatic.net/1000313040/1000406925/14/logoee64.png"
                                        alt="Bánh Mì Chảo Thương Nhớ" />
                                </a>


                            </div>
                        </div>
                        <div class="grid__item large--three-twelfths pd-left15 hd-searchbar">
                            <form action="./collections/search.html" method="get"
                                class="input-group search-bar home-search-bar" role="search">
                                <input type="hidden" name="type" value="product">
                                <input type="search" name="q" value="" placeholder="Tìm kiếm..."
                                    class="input-group-field" aria-label="Tìm kiếm...">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn icon-fallback-text">
                                        <span class="icon icon-search" aria-hidden="true"></span>
                                        <span class="fallback-text">Tìm kiếm</span>
                                    </button>
                                </span>
                            </form>
                        </div>
                        <div class="grid__item large--eight-twelfths pd-left15">
                            <div class="fix-hd">
                                <a href="tel:093 1387 046">
                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                    <span>093 1387 046</span>
                                </a>
                                <a href="pages/he-thong-cua-hang.html">
                                    <i class="fa fa-building" aria-hidden="true"></i>
                                    <span>Hệ thống <b>5</b> cửa hàng</span>
                                </a>
                                <a href="cart.html">
                                    <div class="cart-total-price">
                                        <i class="fa fa-shopping-bag" aria-hidden="true"></i>
                                        <span id="CartCount">0</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="grid mg-left-15">
                        <div class="grid__item large--one-whole pd-left0">
                            <div id="topmenu">
                                <div class="wrapper">
                                    <div class="inner">
                                        <div class="grid mg-left-15">
                                            <div class="grid__item large--one-whole pd-left15">
                                                <div class="hd-navbar">
                                                    <ul class="no-bullets" id="menu-container">
                                                        <!-- Menu sẽ được tạo động từ dữ liệu JSON -->
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- tạo danh mục menu desktop-->
    <script>
        function createMenu(menuData) {
            const menuContainer = document.getElementById('menu-container');

            // Xóa nội dung cũ nếu có
            menuContainer.innerHTML = '';

            // Tạo menu từ dữ liệu
            menuData.categories.forEach(category => {
                // Tạo phần tử li cho mỗi danh mục
                const categoryLi = document.createElement('li');
                categoryLi.className = 'dropdown';

                // Tạo liên kết cho danh mục
                const categoryLink = document.createElement('a');
                categoryLink.href = category.url;
                categoryLink.innerHTML = `${category.name} <i class="fa fa-angle-down" aria-hidden="true"></i>`;
                categoryLi.appendChild(categoryLink);

                // Tạo submenu cho sản phẩm
                if (category.products && category.products.length > 0) {
                    const submenu = document.createElement('ul');
                    submenu.className = 'no-bullets dropdown-menu';

                    // Thêm các sản phẩm vào submenu
                    category.products.forEach(product => {
                        const productLi = document.createElement('li');
                        const productLink = document.createElement('a');
                        productLink.href = product.url;
                        productLink.textContent = product.name;
                        productLi.appendChild(productLink);
                        submenu.appendChild(productLi);
                    });

                    categoryLi.appendChild(submenu);
                }

                // Thêm danh mục vào menu chính
                menuContainer.appendChild(categoryLi);
            });
        }

        // Hàm để tải dữ liệu JSON từ tệp
        function loadMenuData() {
            fetch('products/getData.php?file=menu-data')  // Tên tệp JSON của bạn
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Không thể tải dữ liệu menu');
                    }
                    return response.json();
                })
                .then(data => {
                    createMenu(data);
                })
                .catch(error => {
                    console.error('Lỗi khi tải dữ liệu menu:', error);
                });
        }

        // Tải menu khi trang được tải
        document.addEventListener('DOMContentLoaded', loadMenuData);
    </script>

    <script>
        // Hàm để tải menu từ file JSON
        function loadMenuFromJSON() {
            fetch('products/getData.php?file=menu-data')  // Giả định là bạn đã lưu file JSON với tên này
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    renderMenu(data);
                })
                .catch(error => {
                    console.error('Có lỗi khi tải dữ liệu menu:', error);
                });
        }

        // Hàm để render menu từ dữ liệu JSON
        function renderMenu(data) {
            const navDrawer = document.getElementById('NavDrawer');
            const mobileNav = document.createElement('ul');
            mobileNav.className = 'mobile-nav';

            // Tạo phần tìm kiếm
            const searchItem = document.createElement('li');
            searchItem.className = 'mobile-nav__item mobile-nav__search';
            searchItem.innerHTML = `
<form action="./collections/search.html" method="get" class="input-group search-bar home-search-bar" role="search">
  <input type="hidden" name="type" value="product">
  <input type="search" name="q" value="" placeholder="Tìm kiếm..." class="input-group-field" aria-label="Tìm kiếm...">
  <span class="input-group-btn">
    <button type="submit" class="btn icon-fallback-text">
      <span class="icon icon-search" aria-hidden="true"></span>
      <span class="fallback-text">Tìm kiếm</span>
    </button>
  </span>
</form>
`;
            mobileNav.appendChild(searchItem);

            // Thêm các mục menu từ dữ liệu JSON
            data.categories.forEach(category => {
                const categoryItem = document.createElement('li');

                if (category.products && category.products.length > 0) {
                    // Danh mục có các sản phẩm con
                    categoryItem.className = 'mobile-nav__item';
                    categoryItem.setAttribute('aria-haspopup', 'true');

                    categoryItem.innerHTML = `
    <div class="mobile-nav__has-sublist">
      <a href="${category.url}" class="mobile-nav__link">${category.name}</a>
      <div class="mobile-nav__toggle">
        <button type="button" class="icon-fallback-text mobile-nav__toggle-open">
          <span class="icon icon-plus" aria-hidden="true"></span>
          <span class="fallback-text">See More</span>
        </button>
        <button type="button" class="icon-fallback-text mobile-nav__toggle-close">
          <span class="icon icon-minus" aria-hidden="true"></span>
          <span class="fallback-text">"Đóng"</span>
        </button>
      </div>
    </div>
    <ul class="mobile-nav__sublist">
      ${category.products.map(product => `
        <li class="mobile-nav__item" aria-haspopup="true">
          <div class="mobile-nav__has-sublist">
            <a href="${product.url}" class="mobile-nav__link">${product.name}</a>
          </div>
        </li>
      `).join('')}
    </ul>
  `;
                } else {
                    // Danh mục không có sản phẩm con
                    categoryItem.className = 'mobile-nav__item';
                    categoryItem.innerHTML = `
    <a href="${category.url}" class="mobile-nav__link">${category.name}</a>
  `;
                }

                mobileNav.appendChild(categoryItem);
            });

            // Xóa menu cũ và thêm menu mới
            const oldMobileNav = navDrawer.querySelector('.mobile-nav');
            if (oldMobileNav) {
                navDrawer.removeChild(oldMobileNav);
            }
            navDrawer.appendChild(mobileNav);

            // Thêm event listeners cho các nút toggle
            addToggleListeners();
        }

        // Hàm để thêm event listeners cho các nút toggle - ĐÃ SỬA LẠI
        function addToggleListeners() {
            const toggleButtons = document.querySelectorAll('.mobile-nav__toggle');

            toggleButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Lấy phần tử cha .mobile-nav__has-sublist
                    const hasSublist = this.closest('.mobile-nav__has-sublist');
                    const openButton = this.querySelector('.mobile-nav__toggle-open');
                    const closeButton = this.querySelector('.mobile-nav__toggle-close');

                    // Toggle class mobile-nav--expanded cho hasSublist
                    if (hasSublist.classList.contains('mobile-nav--expanded')) {
                        hasSublist.classList.remove('mobile-nav--expanded');
                        openButton.style.display = 'inline-block';
                        closeButton.style.display = 'none';
                    } else {
                        hasSublist.classList.add('mobile-nav--expanded');
                        openButton.style.display = 'none';
                        closeButton.style.display = 'inline-block';
                    }
                });
            });
        }

        // Tải menu khi trang đã tải xong
        document.addEventListener('DOMContentLoaded', loadMenuFromJSON);
    </script>

    <script>
        // Script để lấy dữ liệu danh mục menu từ file JSON
        document.addEventListener('DOMContentLoaded', function () {
            // Đường dẫn đến file JSON của bạn
            const jsonFilePath = 'products/getData.php?file=menu-data';

            // Hàm để tải dữ liệu từ file JSON
            function loadMenuData() {
                fetch(jsonFilePath)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Không thể tải file JSON. Trạng thái: ' + response.status);
                        }
                        return response.json();
                    })
                    .then(data => {
                        renderMenu(data.categories);
                        // Khôi phục lại sự kiện click sau khi đã render menu
                        setupDropMenuEvent();
                    })
                    .catch(error => {
                        console.error('Lỗi khi tải dữ liệu menu:', error);
                    });
            }

            // Hàm thiết lập sự kiện cho nút drop-menu
            function setupDropMenuEvent() {
                // Đảm bảo chỉ gắn sự kiện một lần
                $('#drop-menu').off('click').on('click', function () {
                    $('#nav-mobile').toggleClass('red_highlight', 'no_highlight');
                });
            }

            // Hàm render menu dựa trên cấu trúc HTML hiện tại
            function renderMenu(categories) {
                const navMobile = document.getElementById('nav-mobile');
                if (!navMobile) return;

                // Lưu trạng thái class hiện tại
                const hasRedHighlight = navMobile.classList.contains('red_highlight');

                navMobile.innerHTML = ''; // Xóa menu cũ

                // Khôi phục class red_highlight nếu có
                if (hasRedHighlight) {
                    navMobile.classList.add('red_highlight');
                }

                categories.forEach(category => {
                    const li = document.createElement('li');
                    li.className = '';

                    const a = document.createElement('a');
                    a.href = category.url;
                    a.textContent = category.name;

                    li.appendChild(a);
                    navMobile.appendChild(li);
                });
            }

            // Gọi hàm tải dữ liệu
            loadMenuData();
        });
    </script>
    <script>
        // Thêm function để load và render danh mục bên sidebar
        function loadSidebarCategories() {
            // Sử dụng cùng URL với các hàm load menu khác
            fetch('products/getData.php?file=menu-data')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Không thể tải dữ liệu danh mục');
                    }
                    return response.json();
                })
                .then(data => {
                    renderSidebarCategories(data.categories);
                })
                .catch(error => {
                    console.error('Lỗi khi tải dữ liệu danh mục sidebar:', error);
                });
        }

        // Hàm render danh mục vào sidebar
        function renderSidebarCategories(categories) {
            // Tìm phần tử HTML danh mục menu
            const categoryContainer = document.querySelector('.collection-categories .panel ul.no-bullets');

            // Kiểm tra xem phần tử có tồn tại không
            if (!categoryContainer) {
                console.error('Không tìm thấy phần tử danh mục menu trong sidebar');
                return;
            }

            // Xóa nội dung cũ
            categoryContainer.innerHTML = '';

            // Thêm danh mục mới từ dữ liệu JSON
            categories.forEach(category => {
                const li = document.createElement('li');

                const a = document.createElement('a');
                a.href = category.url;
                a.textContent = category.name;

                li.appendChild(a);
                categoryContainer.appendChild(li);
            });
        }

        // Gọi hàm load danh mục khi trang đã tải xong
        document.addEventListener('DOMContentLoaded', function () {
            // Thực hiện load danh mục sidebar
            loadSidebarCategories();
        });
    </script>
    <header class="fixd-mobile large--hide">
        <div id="site-mobile" class="large--hide ">
            <div class="wrapper">
                <div class="inner">
                    <div class="grid">
                        <div class="grid__item medium--two-twelfths small--two-twelfths">
                            <div class="site-nav--mobile">
                                <button type="button" class="icon-fallback-text site-nav__link js-drawer-open-left"
                                    aria-controls="NavDrawer" aria-expanded="false">
                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="grid__item medium--eight-twelfths small--eight-twelfths pd-left0 hd-searchbar">
                            <form action="./collections/search.html" method="get"
                                class="input-group search-bar home-search-bar" role="search">
                                <input type="hidden" name="type" value="product">
                                <input type="search" name="q" value="" placeholder="Tìm kiếm..."
                                    class="input-group-field" aria-label="Tìm kiếm...">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn icon-fallback-text">
                                        <span class="icon icon-search" aria-hidden="true"></span>
                                        <span class="fallback-text">Tìm kiếm</span>
                                    </button>
                                </span>
                            </form>

                        </div>
                        <div class="grid__item medium--two-twelfths small--two-twelfths text-right">
                            <div class="site-nav--mobile cart-site">
                                <a href="../cart.html" class="js-drawer-open-right site-nav__link text-center"
                                    aria-controls="CartDrawer" aria-expanded="false">
                                    <span class="icon-fallback-text">
                                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                    </span>
                                </a>
                            </div>
                        </div>
                        <div class="grid__item medium--one-whole small--one-whole">
                            <div class="fix-hd">
                                <a href="tel:093 1387 046">
                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                    <span>093 1387 046</span>
                                </a>
                                <a href="pages/he-thong-cua-hang.html">
                                    <i class="fa fa-building" aria-hidden="true"></i>
                                    <span>Hệ thống <b>5</b> cửa hàng</span>
                                </a>

                            </div>
                        </div>
                        <div class="grid__item medium--one-whole small--one-whole pd-left0">
                            <div id="site-header">
                                <div id="topmenu">
                                    <div class="hd-navbar">
                                        <ul id="nav-mobile" class="no-bullets">

                                        </ul>
                                        <span id="drop-menu" class="icon-drop">
                                            <i class="fa fa-angle-double-down"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <script>
                                $(document).ready(function () {

                                    $('#drop-menu').on('click', function () {
                                        $('#nav-mobile').toggleClass('red_highlight', 'no_highlight');
                                    });
                                });

                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>





    <div id="home-main-slider" class="owl-carousel">



        <div class="owl-slide owl-slide2">
            <a href="#"><img src="../theme.hstatic.net/1000313040/1000406925/14/ms_banner_img2ee64.jpg"
                    class="img-responsive" /></a>


        </div>


        <div class="owl-slide owl-slide3">
            <a href="#"><img src="../theme.hstatic.net/1000313040/1000406925/14/ms_banner_img3ee64.jpg"
                    class="img-responsive" /></a>


        </div>


        <div class="owl-slide owl-slide4">
            <a href="#"><img src="../theme.hstatic.net/1000313040/1000406925/14/ms_banner_img4ee64.jpg"
                    class="img-responsive" /></a>


            <div id="owl-slide-content-wrapper4">
                <div class="grid">
                    <div class="grid__item large--one-half">
                        <div class="slide-content">
                            <div class="slide-light-text clearfix">

                            </div>
                            <div class="slide-bold-text clearfix">

                            </div>
                            <div class="slide-btn">

                                <a href="#" class="slide-btn1">xem thêm</a>


                                <a href="#" class="slide-btn2"></a>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>




        <div class="owl-slide owl-slide5">
            <a href="pages/he-thong-cua-hang.html"><img
                    src="../theme.hstatic.net/1000313040/1000406925/14/ms_banner_img5ee64.jpg"
                    class="img-responsive" /></a>


            <div id="owl-slide-content-wrapper5">
                <div class="grid">
                    <div class="grid__item large--one-half">
                        <div class="slide-content">
                            <div class="slide-light-text clearfix">

                            </div>
                            <div class="slide-bold-text clearfix">

                            </div>
                            <div class="slide-btn">

                                <a href="pages/he-thong-cua-hang.html" class="slide-btn1">xem thêm</a>


                                <a href="#" class="slide-btn2"></a>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>



    </div>

    <div id="home-main-slidermb" class="owl-carousel slider-mobile">



        <div class="owl-slide owl-slide2">
            <a href="#">
                <img src="../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img2ee64.jpg"
                    class="img-responsive" />
            </a>
        </div>



        <div class="owl-slide owl-slide3">
            <a href="#">
                <img src="../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img3ee64.jpg"
                    class="img-responsive" />
            </a>
        </div>



        <div class="owl-slide owl-slide4">
            <a href="#">
                <img src="../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img4ee64.jpg"
                    class="img-responsive" />
            </a>
        </div>


        <div class="owl-slide owl-slide5">
            <a href="blogs/news/anh-hoa-bakery-khai-truong-co-so-12-tai-so-275-ho-tung-mau.html">
                <img src="../theme.hstatic.net/1000313040/1000406925/14/mb_banner_img5ee64.jpg"
                    class="img-responsive" />
            </a>
        </div>




    </div>



    <section id="breadcrumb-wrapper" class="breadcrumb-w-img">
        <div class="breadcrumb-overlay"></div>
        <div class="breadcrumb-content">
            <div class="wrapper">
                <div class="inner text-center">
                    <div class="breadcrumb-big">

                        <h2>
                            SIÊU TIỆC CHÀO HÈ MUA 1 TẶNG 1
                        </h2>

                    </div>

                </div>
            </div>
        </div>
    </section>



    <div id="PageContainer" class="is-moved-by-drawer">
        <main class="main-content" role="main">

            <section id="collection-wrapper">
                <div class="wrapper">
                    <div class="inner">


                        <div class="grid">
                            <div class="grid__item large--three-twelfths medium--one-whole small--one-whole">
                                <div class="collection-sidebar-wrapper-sticky">
                                    <div class="collection-sidebar-wrapper">
                                        <div class="grid">

                                            <div
                                                class="grid__item large--one-whole medium--one-half push--medium--one-quarter small--one-whole">
                                                <div class="collection-categories">
                                                    <button class="accordion cs-title col-sb-trigger active">
                                                        <span>Danh mục menu</span>
                                                    </button>
                                                    <div class="panel" style="max-height: 1100px;">
                                                        <ul class="no-bullets">
                                                            <!-- Danh sách sẽ được thêm tự động bằng JavaScript -->
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="product-list"></div>

                        </div>

                    </div>
                </div>

            </section>
            <!-- hiển thị toàn bộ sản phẩm lên trang web -->

            <script>
                fetch('products/getData.php?file=productData')
                    .then(response => response.json())
                    .then(data => {
                        const productContainer = document.getElementById('product-list'); // Định nghĩa nơi chứa sản phẩm

                        for (const key in data) {
                            if (data.hasOwnProperty(key)) {
                                const product = data[key];

                                const productHTML = `
                    <div class="grid__item large--four-twelfths medium--three-twelfths small--six-twelfths">
                        <div class="product--loop">
                            <div class="product-img">
                                <a href="${product.url}">
                                    <img alt="${product.productName}" src="${product.image}">
                                </a>
                            </div>
                            <div class="product-title text-center">
                                <a href="${product.url}">${product.productName}</a>
                                <p>${product.productSku}</p>
                            </div>
                            <div class="product-price-actions clearfix">
                                <div class="product-price">${product.productPrice}</div>
                                <div class="product-actions">
                                    <button type="button" class="btn btnQuickView quick-view" data-handle="${key}">
                                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>`;

                                productContainer.innerHTML += productHTML;
                            }
                        }
                    })
                    .catch(error => console.error('Error loading product data:', error));

            </script>




            <style>
                .topping-count {
                    position: absolute;
                    top: 0;
                    right: 0;
                    background-color: red;
                    color: white;
                    border-radius: 50%;
                    width: 15px;
                    height: 15px;
                    text-align: center;
                    line-height: 15px;
                    font-size: 10px;
                    font-weight: bold;
                    display: none;
                    /* Ẩn mặc định, sẽ hiển thị khi số lượng > 1 */
                }

                .topping-name {
                    user-select: none;
                    /* Chặn bôi đen chữ */
                    -webkit-user-select: none;
                    /* Cho trình duyệt WebKit (Chrome, Safari) */
                    -moz-user-select: none;
                    /* Cho Firefox */
                    -ms-user-select: none;
                    /* Cho IE/Edge */
                    pointer-events: auto;
                }

                .topping-price {
                    user-select: none;
                    /* Chặn bôi đen chữ */
                    -webkit-user-select: none;
                    /* Cho trình duyệt WebKit (Chrome, Safari) */
                    -moz-user-select: none;
                    /* Cho Firefox */
                    -ms-user-select: none;
                    /* Cho IE/Edge */
                    color: #ff5722;
                    font-size: 12px;
                    /* Giảm kích thước font */
                    font-weight: normal;
                    pointer-events: auto;
                }

                .water-price {
                    user-select: none;
                    /* Chặn bôi đen chữ */
                    -webkit-user-select: none;
                    /* Cho trình duyệt WebKit (Chrome, Safari) */
                    -moz-user-select: none;
                    /* Cho Firefox */
                    -ms-user-select: none;
                    /* Cho IE/Edge */
                    color: #ff5722;
                    font-size: 12px;
                    /* Giảm kích thước font */
                    font-weight: normal;
                    pointer-events: auto;
                }

                .swatch-element .sd+.topping-count {
                    display: block;
                    /* Hiển thị khi topping được chọn */
                }
            </style>

            <style>
                .collection-sidebar-wrapper.stick {
                    position: fixed;
                    top: 0;
                    z-index: 10;
                    max-width: 288px;
                }
            </style>
        </main>
    </div>

    <section id="home-order">
        <div class="wrapper">
            <div class="inner">
                <div class="grid mg-left-0">
                    <div class="grid__item large--one-whole medium--one-whole small--one-whole">
                        <div class="store-section">
                            <div class="banner-section">
                                <div class="banner-overlay">
                                    <div class="banner-text">
                                        <h1>HỆ THỐNG CỬA HÀNG</h1>
                                        <h2>ĐẶT HÀNG NGAY</h2>
                                        <h2>KHÔNG CẦN PHẢI CHỜ NỮA</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="store-content">
                                <div class="store-list">
                                    <!-- Store 1 -->
                                    <div class="store-item">
                                        <h4>Bánh Mì Chảo Thương Nhớ CS1</h4>
                                        <p><strong>Địa chỉ:</strong> <a href="https://maps.app.goo.gl/NkLFtHS8sxbfDTV3A"
                                                target="_blank">Số 51 ngõ 14 Mễ Trì Hạ - Nam Từ Liêm - Hà Nội</a> </p>
                                        <p><strong>Số điện thoại:</strong> <a href="tel:0327 691 700"> 0327
                                                691 700 </a></p>
                                        <div class="store-links">
                                            <a href="https://r.grab.com/g/6-20250403_204157_250f180f7546420e9e373a736eb9663e_MEXMPS-5-C3CTTFMFJ3K1N2"
                                                target="_blank" class="store-link grab">Đặt qua
                                                GrabFood</a>
                                            <a href="https://begroup.onelink.me/n83F/1in2jztm" target="_blank"
                                                class="store-link be">Đặt qua
                                                BeFood</a>
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho"
                                                target="_blank" class="store-link shopee">Đặt
                                                qua ShopeeFood</a>
                                        </div>
                                    </div>
                                    <!-- Store 1 -->
                                    <div class="store-item">
                                        <h4>Bánh Mì Chảo Thương Nhớ CS2</h4>
                                        <p><strong>Địa chỉ:</strong> <a href="https://maps.app.goo.gl/XoN54mgp77bK7kqd7"
                                                target="_blank">Số 17 Ngõ 63 Vũ Trọng Phung -
                                                Thanh Xuân -Hà Nội</a> </p>
                                        <p><strong>Số điện thoại:</strong> <a href="tel:0869 538 034"> 0869 538 034 </a>
                                        </p>
                                        <div class="store-links">
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho"
                                                target="_blank" class="store-link grab">Đặt qua
                                                GrabFood</a>
                                            <a href="https://begroup.onelink.me/n83F/gucdlh1q" target="_blank"
                                                class="store-link be">Đặt qua
                                                BeFood</a>
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho-vu-trong-phung"
                                                target="_blank" class="store-link shopee">Đặt
                                                qua ShopeeFood</a>
                                        </div>
                                    </div><!-- Store 1 -->
                                    <div class="store-item">
                                        <h4>Bánh Mì Chảo Thương Nhớ CS3</h4>
                                        <p><strong>Địa chỉ:</strong> <a href="https://maps.app.goo.gl/nL5BSh7hZuYQU7se6"
                                                target="_blank">Số 1 Ngách 17C Ngõ 35 Trần Thái Tông, Cầu Giấy</a> </p>
                                        <p><strong>Số điện thoại:</strong> <a href="tel: 0843 163 863"> 0843 163 863
                                            </a></p>
                                        <div class="store-links">
                                            <a href="https://r.grab.com/g/6-20250403_204842_250f180f7546420e9e373a736eb9663e_MEXMPS-5-C6JZA2BDUADWEE"
                                                target="_blank" class="store-link grab">Đặt qua
                                                GrabFood</a>
                                            <a href="https://begroup.onelink.me/n83F/44cvjpti" target="_blank"
                                                class="store-link be">Đặt qua
                                                BeFood</a>
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho-tran-thai-tong"
                                                target="_blank" class="store-link shopee">Đặt
                                                qua ShopeeFood</a>
                                        </div>
                                    </div><!-- Store 1 -->
                                    <div class="store-item">
                                        <h4>Bánh Mì Chảo Thương Nhớ CS4</h4>
                                        <p><strong>Địa chỉ:</strong> <a href="https://maps.app.goo.gl/xgYcRwBcSegiGdNT8"
                                                target="_blank">Số 110 Trung Liệt - Đống Đa - Hà Nội</a> </p>
                                        <p><strong>Số điện thoại:</strong> <a href="tel: 0379 466 682"> 0379 466 682
                                            </a></p>
                                        <div class="store-links">
                                            <a href="https://r.grab.com/g/6-20250403_205155_250f180f7546420e9e373a736eb9663e_MEXMPS-5-C6N2ANUCLKVYCN"
                                                target="_blank" class="store-link grab">Đặt qua
                                                GrabFood</a>
                                            <a href="https://begroup.onelink.me/n83F/q9oq27pu" target="_blank"
                                                class="store-link be">Đặt qua
                                                BeFood</a>
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho-trung-liet"
                                                target="_blank" class="store-link shopee">Đặt
                                                qua ShopeeFood</a>
                                        </div>
                                    </div><!-- Store 1 -->
                                    <div class="store-item">
                                        <h4>Bánh Mì Chảo Thương Nhớ CS5</h4>
                                        <p><strong>Địa chỉ:</strong> <a href="https://maps.app.goo.gl/rVGX8WfbAnjELBzp8"
                                                target="_blank">Số 100 Phạm Huy Thông - Ngoc
                                                Khánh - Ba Đình - Hà Nội</a> </p>
                                        <p><strong>Số điện thoại:</strong> <a href="tel:035 507 0658"> 035 507 0658 </a>
                                        </p>
                                        <div class="store-links">
                                            <a href="https://r.grab.com/g/6-20250403_204956_250f180f7546420e9e373a736eb9663e_MEXMPS-5-C623DFNCTCBKNN"
                                                target="_blank" class="store-link grab">Đặt qua
                                                GrabFood</a>
                                            <a href="https://begroup.onelink.me/n83F/zsm5tbl6" target="_blank"
                                                class="store-link be">Đặt qua
                                                BeFood</a>
                                            <a href="https://shopeefood.vn/ha-noi/bo-sot-vang-banh-mi-chao-thuong-nho-pham-huy-thong"
                                                target="_blank" class="store-link shopee">Đặt
                                                qua ShopeeFood</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
        /* Banner với chữ nổi bật */
        .banner-section {
            background-image: url('../image_food/background-food.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
            height: 150px;
            margin-bottom: 25px;
            border-radius: 8px;
            overflow: hidden;
        }

        .banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .banner-text {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .banner-text h1 {
            font-size: 1.8em;
            font-weight: 800;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .banner-text h2 {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .store-title h3 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .store-title h2 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .store-content {
            margin-top: 20px;
        }

        .store-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .store-item {
            background: #ffffffad;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .store-item h4 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 8px;
        }

        .store-item p {
            font-size: 0.9rem;
            color: #555;
            margin: 5px 0;
        }

        .store-links {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            /* Căn giữa các button theo chiều ngang */
        }

        .store-link {
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9rem;
            color: #fff;
            text-align: center;
            /* Căn giữa văn bản bên trong button */
        }

        .store-link.grab {
            background-color: #00b14f;
        }

        .store-link.be {
            background-color: #f7c948;
        }

        .store-link.shopee {
            background-color: #ee4d2d;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .store-title h3 {
                font-size: 1rem;
            }

            .store-title h2 {
                font-size: 1.2rem;
                line-height: 1.4;
            }

            .store-item {
                padding: 10px;
            }

            .store-item h4 {
                font-size: 1rem;
            }

            .store-item p {
                font-size: 0.85rem;
            }

            .store-links {
                flex-direction: row;
                justify-content: space-between;
            }

            .store-link {
                flex: 1;
                padding: 8px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .store-title h2 {
                font-size: 1rem;
            }

            .store-links {
                flex-direction: column;
            }

            .store-link {
                width: 100%;
                box-sizing: border-box;
            }
        }
    </style>


    <footer>
        <div class="footer-top">
            <div class="footer-top-overlay"></div>
            <div class="wrapper">
                <div class="inner">
                    <div class="grid-uniform">
                        <div class="grid__item large--three-twelfths medium--one-half small--one-whole">
                            <div class="ft-contact">

                                <div class="ft-contact-logo text-center">
                                    <a href="index.html"><img
                                            src="../theme.hstatic.net/1000313040/1000406925/14/logo_ftee64.png"
                                            alt="Bánh Mì Chảo Thương Nhớ"></a>
                                </div>

                                <div class="ft-contact-address">
                                    <i class="fa fa-home" aria-hidden="true"></i> Số 100 Phạm Huy Thông, P. Ngọc Khánh,
                                    Q.
                                    Ba Đình, TP. Hà Nội
                                </div>
                                <div class="ft-contact-tel">
                                    <i class="fa fa-mobile" aria-hidden="true"></i> <a
                                        href="tel:0931387046">0931387046</a>
                                </div>
                                <div class="ft-contact-email">
                                    <i class="fa fa-envelope" aria-hidden="true"></i> <a
                                        href="mailto:banhmichaothuongnho@gmail.com">banhmichaothuongnho@gmail.com</a>
                                </div>
                            </div>
                        </div>

                        <div class="grid__item large--three-twelfths medium--one-half small--one-whole">
                            <div class="ft-menu">
                                <h4>Chính sách</h4>
                                <ul class="no-bullets">


                                    <li><a href="./pages/chinh-sach-va-quy-dinh-chung.html">Chính sách và quy định
                                            chung</a></li>

                                    <li><a href="./pages/chinh-sach-giao-dich-thanh-toan.html">Chính sách giao dịch,
                                            thanh toán</a></li>

                                    <li><a href="./pages/chinh-sach-doi-tra.html">Chính sách đổi trả</a></li>

                                    <li><a href="./pages/chinh-sach-bao-mat.html">Chính sách bảo mật</a></li>

                                    <li><a href="./pages/chinh-sach-van-chuyen.html">Chính sách vận chuyển</a></li>

                                </ul>
                            </div>
                        </div>

                        <div class="grid__item large--three-twelfths medium--one-half small--one-whole">
                            <div class="ft-subscribe-wrapper">
                                <h4>Bánh Mì Chảo Thương Nhớ</h4>
                                <div class="ft-subscribe">
                                    <div id="company-info"></div>

                                    <form accept-charset="UTF-8" action="./pages/he-thong-cua-hang.html"
                                        class="contact-form" method="post" name="myForm" onsubmit="validateForm()">
                                        <input name="form_type" type="hidden" value="customer">
                                        <input name="utf8" type="hidden" value="✓">



                                        <div class="input-group">
                                            <input type="email" required value="" placeholder="Nhập email của bạn..."
                                                name="contact[email]" id="Email" class="input-group-field"
                                                aria-label="email@example.com">
                                            <input type="hidden" name="contact[tags]" value="newsletter">
                                            <span class="input-group-btn">
                                                <button type="submit" name="subscribe" id="subscribe" value="GỬI"><i
                                                        class="fa fa-paper-plane" aria-hidden="true"></i></button>
                                            </span>
                                        </div>

                                    </form>

                                </div>
                            </div>
                            <div class="ft-social-network">

                                <a href="https://www.facebook.com/profile.php?id=100067891252186" target="_blank"><i
                                        class="fa fa-facebook" aria-hidden="true"></i></a>



                                <a href="https://www.facebook.com/profile.php?id=100067891252186" target="_blank"><i
                                        class="fa fa-instagram" aria-hidden="true"></i></a>


                                <a href="#" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i></a>


                                <a href="https://www.youtube.com/" target="_blank"><i class="fa fa-youtube"
                                        aria-hidden="true"></i></a>


                            </div>
                        </div>

                        <div class="grid__item large--three-twelfths medium--one-half small--one-whole">
                            <h4>🎉 Mỗi thứ ba hàng tuần, chúng tôi dành tặng các combo ưu đãi đặc biệt như lời tri ân
                                đến khách
                                hàng. liên hệ ngay với chúng tôi để chúng tôi được phục vụ bạn!</h4>
                            <div id="owl-home-main-banners-slider-ft" class="owl-carousel owl-theme">
                                <!-- hình ảnh đã thông báo bộ công thương -->
                                <div class="item">
                                    <div class="ft-img">
                                        <a href="../theme.hstatic.net/1000313040/1000406925/14/hg_img1ee64.png"
                                            data-fancybox="home-gallery-images" data-caption=""><img
                                                src="../theme.hstatic.net/1000313040/1000406925/14/hg_img_thumb1ee64.png"
                                                alt="" /></a>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="wrapper">
                <div class="inner">
                    <div class="grid">
                        <div class="grid__item large--six-twelfths medium--one-whole small--one-whole pull-right">
                            <div class="ft-copyright-menu text-right">
                                <ul class="no-bullets">


                                </ul>
                            </div>
                        </div>
                        <div class="grid__item large--six-twelfths medium--one-whole small--one-whole">
                            <div class="ft-copyright">
                                Copyrights © 2018 by <a target="_blank" href="index.html">Bánh Mì
                                    Chảo Thương Nhớ</a>.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script>
        // Hàm tải nội dung từ file txt bên ngoài
        function loadCompanyInfo() {
            fetch('products/company-info.txt')
                .then(response => response.text())
                .then(data => {
                    // Chuyển đổi dấu xuống dòng thành <br>
                    const formattedData = '<p>' + data.replace(/\n/g, '<br>') + '</p>';
                    document.getElementById('company-info').innerHTML = formattedData;
                })
                .catch(error => console.error('Lỗi khi tải thông tin:', error));
        }


        // Gọi hàm khi trang được tải
        document.addEventListener('DOMContentLoaded', loadCompanyInfo);
    </script>

    <div id="back-to-top" class="text-center medium--hide small--hide">
        <i class="fa fa-angle-up" aria-hidden="true"></i>
    </div>


    <script src='../hstatic.net/0/0/global/api.jquery.js' type='text/javascript'></script>

    <script src='../hstatic.net/0/0/global/option_selection.js' type='text/javascript'></script>

    <script src='../theme.hstatic.net/1000313040/1000406925/14/fastclick.minee64.js' type='text/javascript'></script>
    <script src='../theme.hstatic.net/1000313040/1000406925/14/suplo-fnee64.js' type='text/javascript'></script>
    <script src='../theme.hstatic.net/1000313040/1000406925/14/scriptee64.js' type='text/javascript'></script>
    <script src='../theme.hstatic.net/1000313040/1000406925/14/timberee64.js' type='text/javascript'></script>

    <link rel="stylesheet" href="../cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
    <script src="../cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>

    <script src='../theme.hstatic.net/1000313040/1000406925/14/handlebars.minee64.js' type='text/javascript'></script>
    <!-- /snippets/ajax-cart-template.liquid -->

    <script id="AjaxQty" type="text/template">

	<div class="ajaxcart__qty">
		<button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--minus icon-fallback-text" data-id="{{key}}" data-qty="{{itemMinus}}">
			<span class="icon icon-minus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">&minus;</span>
			<span class="visually-hidden">Giảm số lượng sản phẩm đi 1</span>
		</button>
		<input type="text" class="ajaxcart__qty-num" value="{{itemQty}}" min="0" data-id="{{key}}" aria-label="quantity" pattern="[0-9]*">
		<button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--plus icon-fallback-text" data-id="{{key}}" data-qty="{{itemAdd}}">
			<span class="icon icon-plus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">+</span>
			<span class="visually-hidden">Tăng số lượng sản phẩm lên 1</span>
		</button>
	</div>
	
</script>
    <script id="JsQty" type="text/template">

	<div class="js-qty">
		<button type="button" class="js-qty__adjust js-qty__adjust--minus icon-fallback-text" data-id="{{key}}" data-qty="{{itemMinus}}">
			<span class="icon icon-minus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">&minus;</span>
			<span class="visually-hidden">Giảm số lượng sản phẩm đi 1</span>
		</button>
		<input type="text" class="js-qty__num" value="{{itemQty}}" min="1" data-id="{{key}}" aria-label="quantity" pattern="[0-9]*" name="{{inputName}}" id="{{inputId}}">
		<button type="button" class="js-qty__adjust js-qty__adjust--plus icon-fallback-text" data-id="{{key}}" data-qty="{{itemAdd}}">
			<span class="icon icon-plus" aria-hidden="true"></span>
			<span class="fallback-text" aria-hidden="true">+</span>
			<span class="visually-hidden">Tăng số lượng sản phẩm lên 1</span>
		</button>
	</div>
	
</script>

    <script src='../theme.hstatic.net/1000313040/1000406925/14/ajax-cartee64.js' type='text/javascript'></script>
    <script>
        jQuery(function ($) {
            ajaxCart.init({
                formSelector: '#AddToCartForm',
                cartContainer: '#CartContainer',
                addToCartSelector: '#AddToCart',
                cartCountSelector: '#CartCount',
                cartCostSelector: '#CartCost',
                moneyFormat: "{{amount}}₫"
            });
        });

        jQuery(document.body).on('afterCartLoad.ajaxCart', function (evt, cart) {
            // Bind to 'afterCartLoad.ajaxCart' to run any javascript after the cart has loaded in the DOM
            timber.RightDrawer.open();
        });
    </script>

    <style>
        .total-cost {
            color: rgb(51, 255, 0);
            font-weight: bold;
            font-size: 18px;
        }
    </style>
    <!-- Validate quantity form & trigger zoom -->
    <script>
        $("document").ready(function () {

            $(".checkout_btn_2").on("click", function () {
                alert('a');
                event.preventDefault();
                var checked = $('textarea#CartSpecialInstructions').val();
                if (checked == '') {
                    alert('Bạn chưa điền thông tin vào chú thích cho chủ cửa hàng !');
                } else {
                    window.location = '../cart.html';
                }

            });


            $(function () {
                $(".js-qty__num").keypress(function (event) {
                    if (event.which != 8 && event.which != 0 && (event.which < 48 || event.which > 57)) {
                        return false;
                    }
                });
            });
            if ($(window).width() > 768) {
                setTimeout(function () {
                    $("#ProductThumbs .thumbnail-item:first-child a").trigger('click');
                }, 10);
            };
        });
    </script>

    <script>
        $(document).ready(function () {
            $().fancybox({
                thumbs: true,
                hash: false,
                loop: true,
            });
        });
    </script>

    <!-- Main slider video bg -->

    <script>
        jQuery(document).ready(function () {


            document.addEventListener('DOMContentLoaded', function () {
                // Tìm form chứa input email
                const form = document.querySelector('form.contact-form');

                if (form) {
                    form.addEventListener('submit', function (event) {
                        // Ngăn form gửi đi ngay lập tức
                        event.preventDefault();

                        // Lấy giá trị email và loại bỏ khoảng trắng
                        const emailInput = document.getElementById('Email');
                        const email = emailInput.value.trim();

                        // Biểu thức chính quy đơn giản để kiểm tra email
                        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

                        if (email === '') {
                            alert('Vui lòng nhập địa chỉ email.');
                            emailInput.focus();
                            return;
                        }

                        if (!emailRegex.test(email)) {
                            alert('Địa chỉ email không hợp lệ. Vui lòng kiểm tra lại.');
                            emailInput.focus();
                            return;
                        }

                        // Nếu email hợp lệ, tiếp tục gửi form
                        form.submit();
                    });
                }
            });

            // gửi tin nhắn telegram
            function GuiMessTeleGram(MESSAGE) {
                const BOT_TOKEN = "7728268550:AAF-7rUSnQQNtrn3umKelpotyvYLVuIp5L8";
                const CHAT_ID = "-4662422012";

                const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

                const data = {
                    chat_id: CHAT_ID,
                    text: MESSAGE,
                    parse_mode: "Markdown", // Hoặc "HTML"
                };

                fetch(url, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data),
                })
                    .then((response) => response.json())
                    .then((result) => console.log("Gửi tin nhắn thành công:", result))
                    .catch((error) => console.error("Lỗi khi gửi tin nhắn:", error));

            }

            var offset = 220;
            var duration = 500;
            jQuery(window).scroll(function () {
                if (jQuery(this).scrollTop() > offset) {
                    jQuery('#back-to-top').fadeIn(duration);
                } else {
                    jQuery('#back-to-top').fadeOut(duration);
                }
            });

            jQuery('#back-to-top').click(function (event) {
                event.preventDefault();
                jQuery('html, body').animate({
                    scrollTop: 0
                }, duration);
                return false;
            })
        });

        window.onscroll = changePos;

        function changePos() {
            var header = $("#header");
            var headerheight = $("#header").height();
            if (window.pageYOffset > headerheight) {
                header.addClass('sticky-header');
            } else {
                header.removeClass('sticky-header');
            }
        }

    </script>

    <script>
        $(document).ready(function () {
            var acc = document.getElementsByClassName("accordion");
            var i;

            for (i = 0; i < acc.length; i++) {
                acc[i].onclick = function () {
                    this.classList.toggle("active");
                    var panel = this.nextElementSibling;
                    if (panel.style.maxHeight) {
                        panel.style.maxHeight = null;
                    } else {
                        panel.style.maxHeight = panel.scrollHeight + "px";
                    }
                }
            }
            if ($(window).width() > 769) {
                $('.accordion').trigger('click');
            }
        });
    </script>


    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Get the element with id="defaultOpen" and click on it
        //document.getElementById("defaultOpen").click();
    </script>
    <!-- -------------------------------------------------------------------------------- -->
    <!-- mở modal qua file -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let scrollPosition;
            let isModalOpen = false;
            let productQuantity = 1;
            let waterSelections = {};

            document.addEventListener('click', function (event) {
                if (event.target.closest('.quick-view')) {
                    handleQuickViewClick(event);
                }
            });

            document.getElementById('product-quantity').addEventListener('change', function (event) {
                productQuantity = parseInt(event.target.value) || 1;
                updateExtraWaterUI();
            });

            function handleQuickViewClick(event) {
                event.preventDefault();
                const button = event.target.closest('.quick-view');
                const productHandle = button.getAttribute('data-handle');

                scrollPosition = window.pageYOffset;
                isModalOpen = true;

                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.top = `-${scrollPosition}px`;
                document.body.style.width = '100%';

                productQuantity = 1;
                waterSelections = {};
                document.getElementById('product-quantity').value = productQuantity;

                fetch('products/getData.php?file=productData')
                    .then(response => response.json())
                    .then(data => {
                        const product = data[productHandle];

                        if (product) {
                            document.querySelector('#productQuickView #p-product-image-feature').src = product.image;
                            document.querySelector('#productQuickView .modal-title').textContent = product.productName;
                            document.querySelector('#ProductSku').textContent = product.productSku;
                            document.querySelector('#productQuickView .p-price').textContent = product.productPrice;
                            document.querySelector('#productQuickView .p-url').href = product.url;

                            handleToppings(product);
                            handleExtraWater(product);

                            const modal = document.getElementById('productQuickView');
                            modal.style.display = 'block';
                            setTimeout(() => {
                                modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
                                document.querySelector('#productQuickView .modal-content').style.opacity = '1';
                                document.querySelector('#productQuickView .modal-content').style.transform = 'translateY(0)';
                            }, 100);
                        } else {
                            console.error('Sản phẩm không tìm thấy trong dữ liệu.');
                        }
                    })
                    .catch(error => {
                        console.error('Lỗi khi lấy dữ liệu từ file JSON:', error);
                    });
            }

            function handleToppings(product) {
                const toppingsContainer = document.querySelector("#variant-swatch-0-quickview .select-swap");
                toppingsContainer.innerHTML = "";

                const toppingSection = document.getElementById('variant-swatch-0-quickview');
                if (product.toppings && product.toppings.length > 0) {
                    toppingSection.style.display = 'block';

                    product.toppings.forEach((topping, index) => {
                        const toppingHTML = `
                    <div data-value="${topping.value}" class="n-sd swatch-element ${topping.value}" style="position: relative;">
                        <input class="variant-0 input-quickview" id="qv-swatch-0-${topping.value}" 
                            type="checkbox" name="topping" value="${topping.value}">
                        <label for="qv-swatch-0-${topping.value}">
                            <span class="topping-content">
                                <div class="topping-name">${topping.name}</div>
                                <div class="topping-price">${topping.price.toLocaleString('vi-VN')}₫</div>
                            </span>
                            <img class="crossed-out" src="//theme.hstatic.net/1000313040/1000406925/14/soldout.png">
                            <img class="img-check" src="//theme.hstatic.net/1000313040/1000406925/14/select-pro.png">
                        </label>
                        <div class="topping-count" style="position: absolute; top: 0; right: 0; background: red; color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 20px; font-size: 12px; display: none;">1</div>
                    </div>
                `;
                        toppingsContainer.innerHTML += toppingHTML;
                    });
                } else {
                    toppingSection.style.display = 'none';
                }
            }

            function handleExtraWater(product) {
                const extraWaterSection = document.getElementById('variant-swatch-1-quickview');
                const extraWaterContainer = document.querySelector("#variant-swatch-1-quickview .select-swap");
                extraWaterContainer.innerHTML = "";

                if (product.extraWater && product.extraWater.length > 0) {
                    extraWaterSection.style.display = 'block';
                    product.extraWater.forEach((water, index) => {
                        const waterHTML = `
                    <div data-value="${water.name.toLowerCase().replace(/\s+/g, '-')}" class="n-sd swatch-element water-option" style="position: relative;">
                        <input class="variant-1 input-quickview extra-water" id="qv-swatch-1-${index}" 
                            type="checkbox" name="extraWater" value="${water.name}"
                            data-price="${water.price}" data-index="${index}">
                        <label for="qv-swatch-1-${index}">
                            <span class="water-content">
                                <div class="water-name">${water.name}</div>
                                <div class="water-price">${water.price > 0 ? water.price.toLocaleString('vi-VN') + '₫' : 'Miễn phí'}</div>
                            </span>
                            <img class="crossed-out" src="//theme.hstatic.net/1000313040/1000406925/14/soldout.png">
                            <img class="img-check" src="//theme.hstatic.net/1000313040/1000406925/14/select-pro.png">
                        </label>
                        <div class="water-count" style="position: absolute; top: 0; right: 0; background: red; color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 20px; font-size: 12px; display: none;">0</div>
                    </div>
                `;
                        extraWaterContainer.innerHTML += waterHTML;
                    });

                } else {
                    extraWaterSection.style.display = 'none';
                }
            }


            function closeModal() {
                document.querySelector('#productQuickView .modal-content').style.opacity = '0';
                document.querySelector('#productQuickView .modal-content').style.transform = 'translateY(-30px)';
                document.getElementById('productQuickView').style.backgroundColor = 'rgba(0,0,0,0)';

                // Khôi phục scroll trên body
                document.body.style.removeProperty('overflow');
                document.body.style.removeProperty('position');
                document.body.style.removeProperty('top');
                document.body.style.removeProperty('width');

                // Khôi phục vị trí scroll
                if (isModalOpen) {
                    window.scrollTo(0, scrollPosition);
                    isModalOpen = false;
                }

                setTimeout(() => {
                    document.getElementById('productQuickView').style.display = 'none';
                    document.getElementById("form-quick-view").reset();
                }, 500);
            }

            document.getElementById('close').addEventListener('click', closeModal);
            window.addEventListener('click', function (event) {
                if (event.target === document.getElementById('productQuickView')) {
                    closeModal();
                }
            });

            // Xử lý sự kiện thêm vào giỏ hàng để đóng modal và khôi phục scroll
            document.getElementById('AddToCardQuickView').addEventListener('click', function () {
                // Đóng modal và khôi phục scroll sau khi thêm vào giỏ
                setTimeout(() => {
                    // Khôi phục scroll trên body
                    document.body.style.removeProperty('overflow');
                    document.body.style.removeProperty('position');
                    document.body.style.removeProperty('top');
                    document.body.style.removeProperty('width');

                    // Khôi phục vị trí scroll
                    if (isModalOpen) {
                        window.scrollTo(0, scrollPosition);
                        isModalOpen = false;
                    }
                }, 100);
            });
        });
    </script>

    <!-- Modal sản phẩm -->
    <div class="modal" id="productQuickView">
        <div class="modal-content">
            <span id="close" class="close">&times;</span>
            <form class="grid" id="form-quick-view">
                <div class="grid__item large--five-tenths">
                    <div class="image-zoom">
                        <img id="p-product-image-feature" class="p-product-image-feature" src="#">
                        <div id="p-sliderproduct" class="flexslider">
                            <ul class="slides"></ul>
                        </div>
                    </div>
                </div>
                <div class="grid__item large--five-tenths pull-right">
                    <h4 class="p-title modal-title" id="">Tên sản phẩm</h4>
                    <p class="product-more-info">
                        <span class="product-sku">
                            Mã sản phẩm: <span id="ProductSku">140421</span>
                        </span>
                    </p>
                    <div class="form-input product-price-wrapper">
                        <div class="product-price">
                            <span class="p-price"></span>
                            <del></del>
                        </div>
                        <em id="PriceSaving"></em>
                    </div>

                    <div class="form-input">
                        <label>Số lượng</label>
                        <input id="product-quantity" name="quantity" type="number" min="1" value="1" />
                    </div>

                    <div id="swatch-quick-view" class="select-swatch">
                        <!-- Topping section -->
                        <div id="variant-swatch-0-quickview" class="swatch swatch-quick-view clearfix"
                            data-option="option1" data-option-index="0">
                            <div class="header">Topping</div>
                            <div class="select-swap">
                                <!-- Topping items sẽ được thêm vào đây bởi JavaScript -->
                            </div>
                        </div>

                        <!-- ExtraWater section -->
                        <div id="variant-swatch-1-quickview" class="swatch swatch-quick-view clearfix"
                            data-option="option2" data-option-index="1">
                            <div class="header">Đồ uống</div>
                            <div class="select-swap">
                                <!-- ExtraWater items sẽ được thêm vào đây bởi JavaScript -->
                            </div>
                        </div>
                    </div>

                    <div class="form-input" style="width: 100%">
                        <button type="submit" class="btn btn-addcart" id="AddToCardQuickView">Thêm vào giỏ</button>
                        <div class="qv-readmore">
                            <span> hoặc </span><a class="read-more p-url" href="#" role="button">Xem chi tiết</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>


    <!-- cập nhật giá trong modal -->

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Biến lưu trữ timer và request hiện tại
            let debounceTimer;
            let currentRequest = null;
            let lastRequestData = null;

            // Sử dụng event delegation cho nút quick-view
            document.addEventListener('click', function (event) {
                if (event.target.closest('.quick-view')) {
                    // Đợi modal hiển thị
                    setTimeout(() => {
                        priceElement = document.querySelector('#productQuickView .p-price');
                        quantityInput = document.querySelector('#productQuickView input[name="quantity"]');
                        productSku = document.querySelector('#ProductSku').textContent;

                        // Lắng nghe sự kiện thay đổi số lượng sản phẩm
                        if (quantityInput) {
                            // Xóa event listener cũ (nếu có) trước khi thêm mới để tránh duplicate
                            quantityInput.removeEventListener("input", handleQuantityChange);
                            quantityInput.addEventListener("input", handleQuantityChange);

                            // Xử lý nút tăng giảm số lượng
                            const minusButton = document.querySelector('.js-qty__adjust--minus');
                            const plusButton = document.querySelector('.js-qty__adjust--plus');

                            if (minusButton) {
                                minusButton.removeEventListener("click", triggerQuantityInput);
                                minusButton.addEventListener("click", triggerQuantityInput);
                            }

                            if (plusButton) {
                                plusButton.removeEventListener("click", triggerQuantityInput);
                                plusButton.addEventListener("click", triggerQuantityInput);
                            }
                        }

                        // Xóa event listener cũ (nếu có) trước khi thêm mới
                        jQuery('#productQuickView').off('change', 'input.input-quickview');
                        jQuery('#productQuickView').off('click', '.topping-quantity-btn');

                        // Lắng nghe sự kiện thay đổi topping và extraWater (checkbox)
                        jQuery('#productQuickView').on('change', 'input.input-quickview', function (e) {
                            handleToppingChange();
                        });

                        // Lắng nghe sự kiện thay đổi số lượng topping
                        jQuery('#productQuickView').on('click', '.topping-quantity-btn', function () {
                            handleToppingChange();
                        });

                        // Cập nhật giá ban đầu
                        debouncedUpdatePrice();
                    }, 300);
                }
            });

            // Hàm xử lý khi thay đổi số lượng
            function handleQuantityChange() {
                debouncedUpdatePrice();
            }

            // Hàm xử lý khi thay đổi topping hoặc extraWater
            function handleToppingChange() {
                debouncedUpdatePrice();
            }

            // Hàm kích hoạt sự kiện input trên ô số lượng
            function triggerQuantityInput() {
                if (quantityInput) {
                    quantityInput.dispatchEvent(new Event("input"));
                }
            }

            // Hàm debounce để tránh gọi nhiều request liên tiếp
            function debouncedUpdatePrice() {
                // Xóa timer cũ nếu có
                if (debounceTimer) {
                    clearTimeout(debounceTimer);
                }

                // Hủy request hiện tại nếu có
                if (currentRequest) {
                    currentRequest.abort();
                    currentRequest = null;
                }

                // Đặt timer mới, chỉ gửi request sau 300ms không có thao tác mới
                debounceTimer = setTimeout(() => {
                    updatePriceViaAjax();
                }, 300);
            }

            // Hàm gửi request AJAX đến server để tính giá
            function updatePriceViaAjax() {
                if (!priceElement || !quantityInput) return;

                // Lấy mã sản phẩm
                const productSku = document.querySelector('#ProductSku').textContent;

                // Lấy số lượng sản phẩm
                const quantityValue = parseInt(quantityInput.value) || 1;

                // Thu thập thông tin các topping đã chọn
                const selectedToppings = [];
                jQuery('#productQuickView input.input-quickview:not(.extra-water)').each(function () {
                    const $this = jQuery(this);

                    // Kiểm tra trạng thái (được chọn hay bỏ chọn)
                    const isSelected = $this.next().hasClass('sd');

                    if (isSelected) {
                        const toppingValue = $this.val();
                        const toppingCountElement = $this.closest('.swatch-element').find('.topping-count');
                        const toppingCount = parseInt(toppingCountElement.text()) || 1;

                        selectedToppings.push({
                            value: toppingValue,
                            quantity: toppingCount
                        });
                    }
                });

                // Thu thập thông tin các đồ uống kèm đã chọn
                const selectedExtraWaters = [];
                jQuery('#productQuickView input.input-quickview.extra-water').each(function () {
                    const $this = jQuery(this);

                    // Kiểm tra trạng thái (được chọn hay bỏ chọn)
                    const isSelected = $this.next().hasClass('sd');

                    if (isSelected) {
                        const waterValue = $this.val();
                        const waterCountElement = $this.closest('.swatch-element').find('.water-count');
                        const waterCount = parseInt(waterCountElement.text()) || 1;

                        selectedExtraWaters.push({
                            value: waterValue,
                            quantity: waterCount
                        });
                    }
                });

                // Dữ liệu gửi đến server
                const requestData = {
                    sku: productSku,
                    quantity: quantityValue,
                    toppings: selectedToppings,
                    extraWaters: selectedExtraWaters
                };

                // So sánh với request gần nhất để tránh gửi trùng lặp
                if (lastRequestData && JSON.stringify(requestData) === JSON.stringify(lastRequestData)) {
                    return;
                }

                // Lưu lại request hiện tại
                lastRequestData = requestData;

                // Tạo một đối tượng AbortController để có thể hủy request khi cần
                const controller = new AbortController();
                const signal = controller.signal;
                currentRequest = controller;

                // Hiển thị trạng thái đang tải (tùy chọn)
                priceElement.innerHTML = '<span class="loading">Đang tính...</span>';

                // Gửi AJAX request
                fetch('calculate_price1.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    body: JSON.stringify(requestData),
                    signal: signal
                })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Chỉ cập nhật giá nếu đây là request mới nhất
                        if (currentRequest === controller) {
                            if (data.error) {
                                console.error('Lỗi:', data.error);
                                return;
                            }

                            // Cập nhật giá hiển thị
                            priceElement.textContent = data.formattedPrice;

                            // Đánh dấu rằng request đã hoàn thành
                            currentRequest = null;
                        }
                    })
                    .catch(error => {
                        // Không xử lý lỗi khi request bị hủy có chủ ý
                        if (error.name === 'AbortError') {
                            return;
                        }
                        console.error('Lỗi khi gửi request:', error);
                    });
            }
        });
    </script>

    <!-- hiển thị sản phẩm lên giỏ hàng -->
    <script>
        var localCart = (function (module, $) {
            'use strict';

            // Public functions
            var init, addItem, loadCart, removeItem, updateCartDisplay, removeTopping, removeExtraWater;

            // Private variables
            var settings, $cartContainer, $cartCount, $cartTotal;

            /*============================================================================
              Khởi tạo giỏ hàng và thiết lập biến
            ==============================================================================*/
            init = function (options) {
                settings = {
                    cartContainer: '#CartContainer',
                    cartCount: '#CartCount',
                    cartTotal: '#CartTotal',
                    moneyFormat: '{{amount}}₫'
                };

                $.extend(settings, options);

                // Lấy phần tử HTML
                $cartContainer = $(settings.cartContainer);
                $cartCount = $(settings.cartCount);
                $cartTotal = $(settings.cartTotal);

                // Load giỏ hàng từ localStorage
                loadCart();

                // Lắng nghe sự kiện thêm sản phẩm
                $(document).on('click', '#AddToCardQuickView', function (event) {
                    event.preventDefault();
                    addItem();
                });

                // Lắng nghe sự kiện xóa sản phẩm
                $(document).on('click', '.remove-item', function () {
                    var index = $(this).data('index');
                    removeItem(index);
                });

                // Lắng nghe sự kiện xóa topping
                $(document).on('click', '.remove-topping', function () {
                    var itemIndex = $(this).data('item-index');
                    var toppingIndex = $(this).data('topping-index');
                    removeTopping(itemIndex, toppingIndex);
                });

                // Lắng nghe sự kiện xóa đồ uống kèm
                $(document).on('click', '.remove-extra-water', function () {
                    var itemIndex = $(this).data('item-index');
                    var waterIndex = $(this).data('water-index');
                    removeExtraWater(itemIndex, waterIndex);
                });
            };

            /*============================================================================
              Thêm sản phẩm vào giỏ hàng
            ==============================================================================*/
            addItem = function () {
                let productName = $('#productQuickView .modal-title').text().trim();
                let productImage = $('#productQuickView #p-product-image-feature').attr('src');
                let productSku = $('#ProductSku').text().trim();
                let productPrice = extractPrice($('#productQuickView .p-price').text());
                let productQuantity = parseInt($('#productQuickView input[name="quantity"]').val()) || 1;

                let selectedToppings = [];
                $('#productQuickView .swatch-element:not(.water-option)').each(function () {
                    let input = $(this).find('input.input-quickview');
                    let isSelected = input.next().hasClass('sd');
                    let toppingQuantity = parseInt($(this).find('.topping-count').text()) || 0;

                    if (isSelected || (toppingQuantity > 0 && input.is(':checked'))) {
                        let toppingName = $(this).find('label').text().trim();
                        let toppingPrice = extractPrice($(this).find('.topping-price').text());
                        selectedToppings.push({ toppingName, toppingPrice, toppingQuantity });
                    }
                });

                let selectedExtraWaters = [];
                $('#productQuickView .swatch-element.water-option').each(function () {
                    let input = $(this).find('input.input-quickview.extra-water');
                    let isSelected = input.next().hasClass('sd');
                    let waterQuantity = parseInt($(this).find('.water-count').text()) || 0;

                    if (isSelected || (waterQuantity > 0 && input.is(':checked'))) {
                        let waterName = $(this).find('.water-name').text().trim();
                        let waterPrice = extractPrice($(this).find('.water-price').text());
                        selectedExtraWaters.push({ waterName, waterPrice, waterQuantity });
                    }
                });

                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                cart.push({
                    productName,
                    productImage,
                    productSku,
                    productPrice,
                    productQuantity,
                    selectedToppings,
                    selectedExtraWaters
                });

                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();

                // Đóng popup sau khi thêm vào giỏ hàng
                $('#productQuickView').fadeOut();

                // Hiển thị giỏ hàng trượt ra từ bên phải
                jQuery(document.body).trigger('afterCartLoad.ajaxCart', [cart]);
            };

            /*============================================================================
              Hiển thị giỏ hàng lên giao diện
            ==============================================================================*/
            updateCartDisplay = function () {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                let cartHtml = '';
                let totalCost = 0;

                if (cart.length === 0) {
                    cartHtml = '<p>Giỏ hàng trống!</p>' +
                        '<p>Xem thêm những món ngon <a href="./" style="color: red; text-decoration: underline;">tại đây</a></p>';
                } else {
                    cart.forEach((item, index) => {
                        let toppingsTotal = 0;
                        let toppingsHtml = item.selectedToppings.map((t, toppingIndex) => {
                            let toppingCost = t.toppingPrice * t.toppingQuantity;
                            toppingsTotal += toppingCost;
                            return `<li>
                        ${t.toppingName} (${t.toppingQuantity}) - ${formatMoney(toppingCost)}
                        <button class="remove-topping" data-item-index="${index}" data-topping-index="${toppingIndex}" style="color: red; margin-left: 5px; border: none; background: none; cursor: pointer;">Xóa</button>
                    </li>`;
                        }).join('');

                        let extraWatersTotal = 0;
                        let extraWatersHtml = (item.selectedExtraWaters || []).map((w, waterIndex) => {
                            let waterCost = w.waterPrice * w.waterQuantity;
                            extraWatersTotal += waterCost;
                            return `<li>
                        ${w.waterName} (${w.waterQuantity}) - ${formatMoney(waterCost)}
                        <button class="remove-extra-water" data-item-index="${index}" data-water-index="${waterIndex}" style="color: red; margin-left: 5px; border: none; background: none; cursor: pointer;">Xóa</button>
                    </li>`;
                        }).join('');

                        // Tính giá món ăn gốc bằng cách trừ tổng giá topping và đồ uống kèm
                        let baseProductPrice = item.productPrice - toppingsTotal - extraWatersTotal;

                        let itemTotal = item.productPrice;
                        totalCost += itemTotal;
                        let image = item.productImage;
                        if (image.includes("../image_food/")) {
                            image = image.replace("../image_food/", "./image_food/");
                        }
                        cartHtml += `
                    <div class="cart-item">
                        <img src="${image}" alt="${item.productName}" class="cart-img">
                        <div class="cart-info">
                            <strong>${item.productName}</strong> - ${formatMoney(baseProductPrice)}
                            <p>Số lượng: ${item.productQuantity}</p>
                            <ul>${toppingsHtml}${extraWatersHtml}</ul>
                            <p><strong>Tổng: ${formatMoney(itemTotal)}</strong></p>
                            <button class="remove-item" data-index="${index}" style="color: red;">Xóa</button>
                            <p></p>
                        </div>
                    </div>
                `;
                    });

                    // Thêm tổng tiền & nút đặt hàng
                    cartHtml += `
                <div class="cart-summary">
                    <p class="total-cost"><strong>Tổng Giá:</strong> ${formatMoney(totalCost)}</p>
                    <a href="cart.html" class="order-button btn--secondary btn--full">Đặt hàng</a>
                </div>
            `;
                }

                $cartContainer.html(cartHtml);
                $cartTotal.html(formatMoney(totalCost));
                $cartCount.text(cart.length);
            };

            /*============================================================================
              Xóa sản phẩm khỏi giỏ hàng
            ==============================================================================*/
            removeItem = function (index) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
            };

            /*============================================================================
              Xóa topping khỏi sản phẩm trong giỏ hàng
            ==============================================================================*/
            removeTopping = function (itemIndex, toppingIndex) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                if (cart[itemIndex] && cart[itemIndex].selectedToppings) {
                    let topping = cart[itemIndex].selectedToppings[toppingIndex];

                    if (topping) {
                        let toppingCost = topping.toppingPrice * topping.toppingQuantity;
                        cart[itemIndex].productPrice -= toppingCost;

                        cart[itemIndex].selectedToppings.splice(toppingIndex, 1);

                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartDisplay();
                    }
                }
            };

            /*============================================================================
              Xóa đồ uống kèm khỏi sản phẩm trong giỏ hàng
            ==============================================================================*/
            removeExtraWater = function (itemIndex, waterIndex) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                if (cart[itemIndex] && cart[itemIndex].selectedExtraWaters) {
                    let water = cart[itemIndex].selectedExtraWaters[waterIndex];

                    if (water) {
                        let waterCost = water.waterPrice * water.waterQuantity;
                        cart[itemIndex].productPrice -= waterCost;

                        cart[itemIndex].selectedExtraWaters.splice(waterIndex, 1);

                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartDisplay();
                    }
                }
            };

            /*============================================================================
              Load giỏ hàng khi trang tải lại
            ==============================================================================*/
            loadCart = function () {
                updateCartDisplay();
            };

            /*============================================================================
              Hàm hỗ trợ định dạng tiền tệ
            ==============================================================================*/
            function extractPrice(priceString) {
                return parseInt(priceString.replace(/[^0-9]/g, ""), 10) || 0;
            }

            function formatMoney(amount) {
                return amount.toLocaleString() + '₫';
            }

            /*============================================================================
              Xuất module
            ==============================================================================*/
            module = {
                init: init
            };

            return module;
        }(localCart || {}, jQuery));

        /*============================================================================
          Khởi tạo giỏ hàng khi tài liệu tải xong
        =============================================================================*/
        jQuery(function ($) {
            localCart.init();
        });
    </script>

    <!-- css của modal -->
    <style>
        .modal {
            display: none;
            position: fixed;
            z-index: 99999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
            /* Cho phép cuộn nội dung trong modal */
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            transition: all .5s;
            -webkit-overflow-scrolling: touch;
            /* Tối ưu cuộn mượt cho iOS */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 780px;
            transform: translatey(-30px);
            transition: all .5s;
            position: relative;
            max-height: 90vh;
            /* Giới hạn chiều cao tối đa */
            overflow-y: auto;
            /* Cho phép cuộn nếu nội dung quá cao */
        }

        @media screen and (max-width: 767px) {
            .modal-content {
                width: 90%;
                margin: 5% auto;
                padding: 15px;
                max-height: 85vh;
            }

            /* Cải tiến giao diện form trong modal cho mobile */
            #form-quick-view {
                display: flex;
                flex-direction: column;
            }

            #form-quick-view .grid__item {
                width: 100%;
            }

            /* Điều chỉnh kích thước hình ảnh */
            .image-zoom {
                max-height: 300px;
                overflow: hidden;
            }

            .p-product-image-feature {
                max-width: 100%;
                height: auto;
            }
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            right: 0;
            top: 0;
            width: 40px;
            text-align: center;
            z-index: 10;
            /* Đảm bảo nút đóng luôn hiển thị phía trên */
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

    <!-- -------------------------------------------------------------------------------- -->




    <script>
        $(document).ready(function () {
            $("#home-main-slider").owlCarousel({
                items: 1,
                itemsDesktop: [1000, 1],
                itemsDesktopSmall: [900, 1],
                itemsTablet: [600, 1],
                itemsMobile: false,
                navigation: false,
                pagination: true,
                slideSpeed: 300,
                autoPlay: true,
                paginationSpeed: 400,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });
            $("#home-main-slidermb").owlCarousel({
                items: 1,
                itemsDesktop: [1000, 1],
                itemsDesktopSmall: [900, 1],
                itemsTablet: [600, 1],
                itemsMobile: false,
                navigation: false,
                pagination: true,
                slideSpeed: 300,
                autoPlay: true,
                paginationSpeed: 400,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });
            $(".owl-home-main-banners-slider-pd").owlCarousel({
                items: 4,
                itemsDesktop: [1000, 4],
                itemsDesktopSmall: [900, 2],
                itemsTablet: [600, 2],
                itemsMobile: false,
                navigation: false,
                pagination: false,
                slideSpeed: 300,
                paginationSpeed: 400,
                autoPlay: 5000,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });
            $("#related-products-slider").owlCarousel({
                items: 4,
                itemsDesktop: [1000, 4],
                itemsDesktopSmall: [900, 4],
                itemsTablet: [768, 4],
                itemsMobile: [480, 2],
                navigation: true,
                pagination: false,
                slideSpeed: 300,
                paginationSpeed: 400,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });
            $("#owl-home-main-banners-slider-art").owlCarousel({
                items: 3,
                itemsDesktop: [1000, 3],
                itemsDesktopSmall: [900, 3],
                itemsTablet: [768, 2],
                itemsMobile: [480, 1],
                navigation: true,
                pagination: false,
                slideSpeed: 300,
                paginationSpeed: 400,
                autoPlay: 5000,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });

            $("#owl-home-main-banners-slider-ft").owlCarousel({
                items: 1,
                itemsDesktop: [1000, 1],
                itemsDesktopSmall: [900, 1],
                itemsTablet: [600, 1],
                itemsMobile: false,
                navigation: false,
                pagination: true,
                slideSpeed: 300,
                paginationSpeed: 400,
                autoPlay: 5000,
                navigationText: ['<i class="fa fa-angle-left" aria-hidden="true"></i>', '<i class="fa fa-angle-right" aria-hidden="true"></i>']
            });
        });
    </script>
    <!-- Load Facebook SDK for JavaScript -->
    <style>
        /* CSS cho nút hỗ trợ chính */
        .support-button {
            position: fixed;
            bottom: 40px;
            right: 20px;
            z-index: 999999999;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            background-color: #0f75bc;
            border-radius: 50%;
            color: white;
            cursor: move;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .support-button:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .support-button i {
            font-size: 24px;
        }

        /* Hiệu ứng pulse */
        .support-button::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: #0f75bc;
            opacity: 0.7;
            animation: pulse 1.5s infinite;
            z-index: -1;
        }

        @-webkit-keyframes pulse {
            0% {
                -webkit-transform: scale(0.9);
                -moz-transform: scale(0.9);
                -ms-transform: scale(0.9);
                transform: scale(0.9);
            }

            70% {
                -webkit-transform: scale(1);
                -moz-transform: scale(1);
                -ms-transform: scale(1);
                transform: scale(1);
                box-shadow: 0 0 0 50px rgba(15, 117, 188, 0);
            }

            100% {
                -webkit-transform: scale(0.9);
                -moz-transform: scale(0.9);
                -ms-transform: scale(0.9);
                transform: scale(0.9);
                box-shadow: 0 0 0 0 rgba(15, 117, 188, 0);
            }
        }

        /* Menu tùy chọn - với background mờ và chiều rộng động */
        .support-options {
            position: absolute;
            bottom: 75px;
            right: 0;
            display: none;
            flex-direction: column;
            gap: 15px;
            width: 100px;
            /* Chỉ đủ rộng cho icon ban đầu */
            background-color: rgba(255, 255, 255, 0.5);
            /* Background mờ 50% */
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 15px;
            transition: all 0.3s ease;
            overflow: visible;
            /* Cho phép con bên trong vượt ra ngoài */
        }

        .support-options.visible {
            display: flex;
        }

        /* Tùy chọn với hiệu ứng hover mở rộng - áp dụng cho cả Messenger, Hotline và Zalo */
        .expandable-option {
            position: relative;
            display: flex;
            align-items: center;
            width: 60px;
            border-radius: 50%;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            transition: all .3s;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.9);
            height: 60px;
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
            z-index: 1;
        }

        .expandable-option .icon-container {
            display: inline-block;
            text-align: center;
            width: 60px;
            font-size: 24px;
            line-height: 60px;
            border-radius: 50%;
            box-shadow: 0 0 0 0 rgba(15, 117, 188, 0.3);
            -webkit-animation: pulse 1.5s infinite;
            transition: all .3s;
            z-index: 2;
        }

        /* Màu cho icon Messenger */
        .expandable-option.messenger-option .icon-container {
            background: #0084FF;
            color: #ffffff;
        }

        /* Màu cho icon Hotline */
        .expandable-option.hotline-option .icon-container {
            background: #0f75bc;
            color: #ffffff;
        }

        /* Màu cho icon Zalo */
        .expandable-option.zalo-option .icon-container {
            background: #0068ff;
            color: #ffffff;
        }

        .expandable-option .text-container {
            display: inline-block;
            width: 0px;
            height: 60px;
            transition: all .3s;
            overflow: hidden;
            text-align: center;
            z-index: 1;
        }

        .expandable-option .text-container span {
            display: block;
            margin: auto;
            line-height: 60px;
            font-size: 16px;
            width: 100%;
            font-weight: bold;
            color: #2c394c;
        }

        /* Mở rộng khi hover */
        .expandable-option:hover {
            width: 200px;
            border-radius: 40px;
        }

        /* Thay đổi container cha khi con hover */
        .expandable-option:hover~.expandable-option,
        .expandable-option:hover {
            z-index: 10;
        }

        /* Mở rộng container cha khi các con hover */
        .support-options:has(.expandable-option:hover) {
            width: 210px;
            /* Đủ rộng cho phần mở rộng */
            background-color: rgba(255, 255, 255, 0.5);
            /* Giữ nguyên độ mờ */
        }

        .expandable-option:hover .icon-container {
            -webkit-animation: none;
            border-radius: 4px;
        }

        .expandable-option:hover .text-container {
            width: calc(100% - 60px);
        }

        .expandable-option.messenger-option:hover .text-container span {
            color: #0084FF;
        }

        .expandable-option.hotline-option:hover .text-container span {
            color: #0f75bc;
        }

        .expandable-option.zalo-option:hover .text-container span {
            color: #0068ff;
        }
    </style>

    <div id="supportButton" class="support-button">
        <i class="fa fa-comments"></i>

        <div class="support-options" id="supportOptions">
            <!-- Messenger với hiệu ứng hover mở rộng -->
            <div class="expandable-option messenger-option" id="messengerOption">
                <div class="icon-container">
                    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968771.png" alt="Messenger" width="60"
                        height="60">
                </div>
                <div class="text-container">
                    <span>Chat Messenger</span>
                </div>
            </div>

            <!-- Zalo với hiệu ứng hover mở rộng -->
            <div class="expandable-option zalo-option" id="zaloOption">
                <div class="icon-container">
                    <img src="https://stc-zaloprofile.zdn.vn/pc/v1/images/zalo_sharelogo.png" alt="Zalo" width="60"
                        height="60" style="margin-top: 12px;">
                </div>
                <div class="text-container">
                    <span>Chat Zalo</span>
                </div>
            </div>


            <!-- Hotline với hiệu ứng hover mở rộng -->
            <div class="expandable-option hotline-option" id="hotlineOption">
                <div class="icon-container">
                    <i class="fa fa-phone"></i>
                </div>
                <div class="text-container">
                    <span>093 1387 046</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Lấy các phần tử DOM
            const supportButton = document.getElementById('supportButton');
            const supportOptions = document.getElementById('supportOptions');
            const messengerOption = document.getElementById('messengerOption');
            const zaloOption = document.getElementById('zaloOption');
            const hotlineOption = document.getElementById('hotlineOption');

            // Biến để theo dõi trạng thái
            let isMenuOpen = false;
            let isDragging = false;
            let wasDragging = false;
            let initialX, initialY;
            let offsetX = 0, offsetY = 0;
            let startTime = 0;

            // Lấy vị trí đã lưu từ localStorage
            const savedKey = 'supportButtonPosition';
            const savedPosition = localStorage.getItem(savedKey);

            // Nếu có vị trí đã lưu, áp dụng nó
            if (savedPosition) {
                try {
                    const position = JSON.parse(savedPosition);
                    supportButton.style.left = position.x + 'px';
                    supportButton.style.top = position.y + 'px';
                    supportButton.style.right = 'auto';
                    supportButton.style.bottom = 'auto';
                } catch (e) {
                    console.error('Error parsing saved position', e);
                }
            }

            // Xử lý sự kiện click cho nút hỗ trợ
            supportButton.addEventListener('click', function (e) {
                // Nếu không kéo thả, mở hoặc đóng menu
                if (!wasDragging) {
                    isMenuOpen = !isMenuOpen;
                    if (isMenuOpen) {
                        supportOptions.classList.add('visible');
                    } else {
                        supportOptions.classList.remove('visible');
                    }
                }
            });

            // Xử lý sự kiện click cho tùy chọn Messenger
            messengerOption.addEventListener('click', function (e) {
                e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
                window.open('https://m.me/112531760938142', '_blank');
                // Đóng menu sau khi chọn
                isMenuOpen = false;
                supportOptions.classList.remove('visible');
            });

            // Xử lý sự kiện click cho tùy chọn Zalo
            zaloOption.addEventListener('click', function (e) {
                e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
                window.open('https://zalo.me/0931387046', '_blank');
                // Đóng menu sau khi chọn
                isMenuOpen = false;
                supportOptions.classList.remove('visible');
            });

            // Xử lý sự kiện click cho tùy chọn Hotline
            hotlineOption.addEventListener('click', function (e) {
                e.stopPropagation(); // Ngăn chặn sự kiện lan ra ngoài
                window.location.href = 'tel:0931387046';
                // Đóng menu sau khi chọn
                isMenuOpen = false;
                supportOptions.classList.remove('visible');
            });

            // Đóng menu khi click ra ngoài
            document.addEventListener('click', function (e) {
                if (isMenuOpen && !supportButton.contains(e.target)) {
                    isMenuOpen = false;
                    supportOptions.classList.remove('visible');
                }
            });

            // Chức năng kéo thả
            supportButton.addEventListener('mousedown', dragStart);
            supportButton.addEventListener('touchstart', dragStart);

            function dragStart(e) {
                // Lưu thời gian bắt đầu để phân biệt giữa click và drag
                startTime = new Date().getTime();

                isDragging = true;
                wasDragging = false;

                // Lấy vị trí ban đầu
                initialX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
                initialY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

                // Lấy vị trí hiện tại của phần tử
                const rect = supportButton.getBoundingClientRect();
                offsetX = initialX - rect.left;
                offsetY = initialY - rect.top;

                // Thêm sự kiện di chuyển và kết thúc
                document.addEventListener('mousemove', dragMove);
                document.addEventListener('touchmove', dragMove, { passive: false });
                document.addEventListener('mouseup', dragEnd);
                document.addEventListener('touchend', dragEnd);
            }

            function dragMove(e) {
                if (!isDragging) return;

                // Nếu đã di chuyển, đánh dấu là đang kéo thả
                wasDragging = true;

                // Đóng menu khi kéo
                if (isMenuOpen) {
                    isMenuOpen = false;
                    supportOptions.classList.remove('visible');
                }

                // Ngăn chặn các hành động cuộn trang mặc định khi kéo
                if (e.type === 'touchmove') {
                    e.preventDefault();
                }

                // Tính toán vị trí mới
                let clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
                let clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;

                // Cập nhật vị trí
                supportButton.style.right = 'auto';
                supportButton.style.bottom = 'auto';
                supportButton.style.left = (clientX - offsetX) + 'px';
                supportButton.style.top = (clientY - offsetY) + 'px';
            }

            function dragEnd(e) {
                if (!isDragging) return;

                // Tính thời gian đã trôi qua
                const endTime = new Date().getTime();
                const timeDiff = endTime - startTime;

                // Nếu đây là kéo thả (không phải click)
                if (wasDragging) {
                    // Lưu vị trí mới
                    const rect = supportButton.getBoundingClientRect();
                    const position = {
                        x: rect.left,
                        y: rect.top
                    };
                    localStorage.setItem(savedKey, JSON.stringify(position));
                }

                // Reset trạng thái
                isDragging = false;

                // Sau một khoảng thời gian ngắn, reset wasDragging
                // Điều này cho phép click hoạt động sau khi kéo thả
                setTimeout(() => {
                    wasDragging = false;
                }, 10);

                // Xóa các sự kiện
                document.removeEventListener('mousemove', dragMove);
                document.removeEventListener('touchmove', dragMove);
                document.removeEventListener('mouseup', dragEnd);
                document.removeEventListener('touchend', dragEnd);
            }
        });
    </script>
</body>

</html>